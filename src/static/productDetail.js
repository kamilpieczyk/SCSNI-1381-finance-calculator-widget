!function(t){var e={};function o(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=122)}({10:function(t,e,o){"use strict";var a=".js-range-stepper",i=".js-range-increment",n=".js-range-decrement",r=".b-finance__range-stepper",c=".js-finance-option input",s={};function l(){s.$document=$(document),s.$period=$(".js-b-finance-period span"),s.$total=$(".js-b-finance-total"),s.$price=$("#stepper-cost"),s.minPrice=s.$price.data("min"),s.maxPrice=s.$price.data("max"),s.$deposit=$("#stepper-deposit"),s.minDeposit=s.$deposit.data("min"),s.maxDeposit=s.$deposit.data("max"),s.currency=$("#currency-symbol").val(),s.financeModal=$("#financeModal"),s.financeCTAButton=$(".js-btn-finance-calculator")}function d(t,e){var o=e.data.product;s.financeModal.length>0&&o&&o.finance&&(s.financeModal.find(".js-finance-product-name").text(o.productName),s.financeModal.find(".js-finance-product-price").text(o.price.sales.formatted),s.$price.val(o.price.sales.value),s.$deposit.data("min",o.finance.minDeposit.value),s.$deposit.data("max",o.finance.maxDeposit.value),s.minDeposit=s.$deposit.data("min"),s.maxDeposit=s.$deposit.data("max"),s.$document.trigger("financeChange"),s.financeCTAButton.attr("data-pid",o.id))}function u(){0!==$(".js-finance-option input:checked").length&&(f(),$("#checkout-main").length>0&&$("body").trigger("financeCalculator:repaymentTermSelected",{monthlyPayments:$("#monthlyPayments").val(),monthlyPaymentAmount:$("#monthlyPaymentAmount").val()}))}function p(t,e){var o=t-e;$(".js-finance-option").each((function(e,a){var i=$(a),n=+i.find(".js-months-number").text(),r=(o/n).toFixed(2);i.find(".js-repayment-amount").text(r),!0===i.find("input").prop("checked")&&function(t,e){s.$period.text(t),s.$total.text(e)}(n,t)}))}function h(t){var e=+t;return Number(e)===e&&e%1!=0?e.toFixed(2):e}function f(){var t=$("#stepper-cost").val(),e=$("#stepper-deposit").val(),o=function(t,e){var o={};return o.price=s.minPrice&&t<s.minPrice?s.minPrice:t,o.price=h(o.price),s.$price.val(o.price),o.deposit=e<s.minDeposit?s.minDeposit:e,o.deposit=o.deposit>o.price-s.maxDeposit?o.price-s.maxDeposit:o.deposit,o.deposit=o.deposit>o.price/2-1?o.price/2-1:o.deposit,o.deposit=h(o.deposit),s.$deposit.val(o.deposit),o}(t=m(t),e=m(e));t=o.price,e=o.deposit,s.$price.val(s.currency+t),s.$deposit.val(s.currency+e),p(t,e),function(t){if($("#checkout-main").length>0){var e=t.price-t.deposit,o=$(".js-finance-option input:checked").closest(".js-finance-option").find(".js-months-number").text(),a=(e/o).toFixed(2);$("#depositAmount").val(t.deposit).attr("val",t.deposit),$("#monthlyPaymentAmount").val(a).attr("val",a),$("#monthlyPayments").val(o).attr("val",o)}}(o)}function m(t){return t?+t.replace(/[^0-9.]+/g,""):t}function v(t){var e=$(this).closest(r).find(a),o=m(e.val());if(o){var i=o,n=e.data("min");i=t.data.isIncrement?o+ +e.data("stepvalue"):(i=o-+e.data("stepvalue"))<n?n:i,e.val(s.currency+i),s.$document.trigger("financeChange")}}t.exports={init:function(){l(),s.$document.on("click",i,{isIncrement:!0},v).on("click",n,{isIncrement:!1},v).on("change",c,u).on("change",a,f).on("financeChange",f).on("product:afterAttributeSelect",d).on("focus","input.js-range-stepper",(function(){this.value=""})).on("initFinance",(function(){l(),f()})),$('.b-finance__accordion [data-toggle="collapse"]').on("click",(function(t){$(this).toggleClass("rotate"),$(this).parent().parent().siblings().each((function(){$(this).find("button").hasClass("rotate")&&$(this).find("button").removeClass("rotate")}))})),f()}}},122:function(t,e,o){"use strict";var a=o(2),i=o(19);$(document).ready((function(){a(o(123)),a(o(28)),a(o(124)),a(o(125)),a(o(126)),a(o(127)),a(o(128)),a(o(129)),a(o(130)),a(o(131)),a(o(132)),a(o(133)),a(o(134)),a(o(135)),a(o(136)),a(o(137)),a(o(138)),i.selectAttribute(),i.colorAttribute(),i.removeBonusProduct(),i.selectBonusProduct(),i.enableBonusProductSelection(),i.showMoreBonusProducts(),i.addBonusProductsToCart()}))},123:function(t,e,o){"use strict";t.exports=function(){if($(".MagicZoom").length>0){window.mzOptions={onZoomReady:function(){$("#"+arguments[0]).find("img.lozad").each((function(){$(this).attr("src",$(this).data("src"))}))}};var t=document.createElement("script");t.src=window.Urls.magicZoomScript,t.defer=!0,t.onerror=function(){console.log("error")},document.head.appendChild(t),$(document).on("magicZoom:refresh",(function(){window.MagicZoom.refresh()}))}}},124:function(t,e,o){var a=o(5);t.exports={customTrimAttribute:function(){$(document).on("click",'[data-attr="customTrim"] a',(function(t){t.preventDefault();var e=$(this);if(!e.attr("disabled")){var o=e.closest(".set-item");o.length||(o=e.closest(".product-detail")),a.attributeSelect(t.currentTarget.href,o)}}))}}},125:function(t,e,o){var a,i=o(3),n=".product-attributes-picker__overlay";function r(){$(".js-product-attributes-picker.active").removeClass("active"),$("html").removeClass("product-attributes-picker-active"),$(n).hide(),$("body").css("top",""),i.isSmallDeviceView()&&(a=0),$(window).scrollTop(a)}t.exports={showAttributePicker:function(){var t=$("<div></div>");t.addClass("product-attributes-picker__overlay"),$(".product-detail").on("click",".js-product-attributes-fancy",(function(){if($(n).length>0&&$("body").append(t),a=$(window).scrollTop(),$(".vwo-new-attributes-wrapper").length){var e=$(this).attr("data-attr");$(".vwo-new-attributes-wrapper").find(".product-attributes[data-attr="+e+"] .js-product-attributes-picker").addClass("active")}else $(this).find(".js-product-attributes-picker").addClass("active");$("html").addClass("product-attributes-picker-active"),$(n).show(),$("body").css("top",-1*a)})),$(".product-detail").on("click",".js-product-attributes-picker .js-close",(function(t){t.stopPropagation(),r()})),t.on("click",(function(){r()}))},bindAttributePickerActions:function(){$(".product-detail").on("click",".js-product-attribute-picker-item .js-btn-view",(function(){$(".js-product-attributes-picker.active").find(".js-product-attributes-picker-preview, .js-btn-close").hide(),$(".js-product-attributes-picker.active").find(".js-btn-view").show();var t,e,o=$(this).closest(".js-product-attribute-picker-item");o.find(".js-product-attributes-picker-preview").show(),o.find(".js-btn-close").show(),o.find(".js-btn-view").hide(),t=o.get(0),(e=t.getBoundingClientRect()).top>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)||o.get(0).scrollIntoView(!1)})),$(".product-detail").on("click",".js-product-attribute-picker-item .js-btn-close",(function(){var t=$(this).closest(".js-product-attribute-picker-item");t.find(".js-product-attributes-picker-preview").hide(),t.find(".js-btn-view").show(),t.find(".js-btn-close").hide()})),$(".vwo-new-attributes-wrapper").length&&($(".product-detail").on("click",".vwo-new-attributes-wrapper .js-product-attribute-picker-item .swatch-value",(function(){$(this).parent().find(".btn-select")&&$(this).parent().find(".btn-select").length>0&&$(this).parent().find(".btn-select")[0].click()})),$("#vwo-more-colours-link").on("click",(function(){$([document.documentElement,document.body]).animate({scrollTop:$("#vwo-new-attributes-anchor").offset().top-100},50)}))),$(".page-pdp .swatch-gallery__container").length&&$(".js-product-attributes-picker").length&&($(".js-pdp-primary-images-footer-swatches").length?$(".product-detail").on("click",".swatch-gallery__container .js-swatch-gallery-item",(function(){var t=$(this).attr("data-attr-value");$('.js-pdp-primary-images-footer-swatches div[data-attr-value="'+t+'"]').find("span")[0].click(),$([document.documentElement,document.body]).animate({scrollTop:$(".main-content").offset().top-100},50)})):$(".product-detail").on("click",".swatch-gallery__container .js-swatch-gallery-item",(function(){var t=$(this).attr("data-attr-value");$('.product-attributes-wrapper span[data-attr-value="'+t+'"]').parent().find(".btn-select")[0].click(),$([document.documentElement,document.body]).animate({scrollTop:$(".main-content").offset().top-100},50)})))},updateSelectedAttribute:function(){$("body").on("product:afterAttributeSelect",(function(t,e){var o=e.container;$(".vwo-new-attributes-wrapper").length?(o.find(".product-attributes-wrapper.vwo-hide-picker").replaceWith(e.data.product.variationAttributesHtml),o.find(".vwo-new-attributes-wrapper").replaceWith(e.data.product.variationAttributesDesktopHtml)):o.find(".product-attributes-wrapper").replaceWith(e.data.product.variationAttributesHtml),r();var a,i,n,c="";e.data.product.variationAttributes&&e.data.product.variationAttributes.forEach((function(t){"color"===t.id&&t.selectedAttrValue&&(c=t.selectedAttrValue.id)})),function(t,e){$carouselSwatches=t.find(".js-pdp-primary-images-footer-swatches"),$carouselSwatches.length&&($carouselSwatches.find(".pdp-primary-images__footer-swatch.selected").removeClass(".selected"),e&&$carouselSwatches.find(".pdp-primary-images__footer-swatch[data-attr-value="+e+"]"))}(o,c),$(".js-product-detail-actions button.calculate-price").removeClass("disabled").attr("disabled",!1),a=e.data.product,i=$(".js-product-detail-actions .js-pdp-key-feature-pack-size"),n=$(".js-product-detail-actions .js-pdp-key-feature-pack-size-price"),i.length&&n.length&&(i.text("".concat(a.keyFeatures.packSize," ").concat(a.price.suffix)),n.text("".concat(a.pricePerPack.sales.formatted))),$(document).trigger("lozadTriggerObserve")}))},init:function(){$(".product-attributes .custom-select").find("option[selected]").removeAttr("selected").attr("selected","selected")}}},126:function(t,e,o){"use strict";function a(){this.url=null,this.id=null,this.masterid=null,this.name=null,this.image={url:null,alt:null},this.color={urlParam:null,value:null,displayValue:null},this.width={urlParam:null,value:null,decimalValue:null},this.length=null,this.totalSize=null,this.measureUnit=null,this.quantity=null,this.productCriteria=null,this.packSize=null,this.pricesPerPack={was:null,now:null,then:null,save:null,app:null},this.pricesPerLinearMeter={was:null,now:null,then:null,save:null,app:null},this.step=null,this.prices={was:null,now:null,then:null,save:null,app:null},this.pricesHtml=null,this.totalPrices={was:null,now:null,then:null,save:null,app:null},this.finance=null}function i(){this.product=null,this.totalPrice=null,this.totalSave=null,this.totalSize=null}function n(){i.call(this),this.product=new a,this.metersToFeetRation=3.28,this.sqm=null,this.$width=$("#flooring-calculator-section-1-width"),this.$length=$("#flooring-calculator-section-1-length"),this.$equal=$("#flooring-calculator-section-1-equal"),this.$calculator=$("#flooring-calculator-section-1-calculator"),this.$calculatorResults=$("#flooring-calculator-section-1-calculator-results"),this.$selectedProductVariant=$("#flooring-calculator-section-1-selected-product-variant"),this.$productImage=$("#flooring-calculator-section-1-product-image"),this.$productName=$("#flooring-calculator-section-1-product-name"),this.$productPrices=$(".js-flooring-calculator-section-1-prices"),this.$btnCalculatePrice=$("#flooring-calculator-section-1-btn-calculate-price"),this.$selectMeters=$("#flooring-calculator-section-1-select-meters"),this.$packSize=$("#flooring-calculator-section-1 .js-pdp-key-feature-pack-size"),this.$pricePerPack=$("#flooring-calculator-section-1 .js-pdp-key-feature-pack-size-price")}function r(){i.call(this),this.currencySymbol=null,this.$underlaySaving=$("#flooring-calculator-section-2 .underlay-saving"),this.$packsRequired=$("#flooring-calculator-section-2 .packs-required > span")}function c(){i.call(this),this.doorsMapping=null,this.doorsAdded=0,this.doors={},this.gripper=null,this.productVariationUrl=$("#flooring-calculator-product-variantion-url").val(),this.$doorsList=$("#flooring-calculator-section-3 #flooring-calculator-doors-list"),this.$doorContainerClone=$("#flooring-calculator-section-3 #flooring-calculator-door-container-clone"),this.$selectGripperQty=$("#flooring-calculator-modal #flooring-calculator-select-gripper-qty"),this.$btnAddGripper=$("#flooring-calculator-modal #flooring-calculator-btn-add-grippers"),this.$skipTrimsGrippers=$("#flooring-calculator-skip-trims-grippers"),this.$btnNext=$("#flooring-calculator-section-3-btn-next")}function s(){i.call(this),this.freeFitting=!1,this.adminFee=null,this.$btnAddFitting=$("#flooring-calculator-section-4-btn-add-fitting")}function l(){i.call(this)}function d(){i.call(this),this.summaryItems=5;for(var t=1;t<=this.summaryItems;t++)this["$summaryItem".concat(t)]=$("#flooring-calculator-section-6-summary-".concat(t))}function u(){this.totalSections=6,this.currentSection=1,this.totalPrice=null,this.totalSave=null,this.currencySymbol=$("#flooring-calculator-currency-symbol").val(),this.sqm=$("#flooring-calculator-section-1-calculator-results span.sqm").text(),this.section1=new n,this.section2=new r,this.section3=new c,this.section4=new s,this.section5=new l,this.section6=new d;for(var t=1;t<=this.totalSections;t++)this["section".concat(t)].init(),this["$section".concat(t)]=$("#flooring-calculator-section-".concat(t)),this["$step".concat(t)]=$("#flooring-calculator-step-".concat(t));this.section1.sqm=this.sqm,this.section2.currencySymbol=this.currencySymbol,this.$flooringCalculatorModal=$("#flooring-calculator-modal"),this.$flooringCalculatorNavigationMenu=$("#flooring-calculator-navigation-menu"),this.$flooringCalculatorYourTotalSummary=$("#flooring-calculator-your-total-summary"),this.$carpetSpecialistBanner=$("#flooring-calculator-carpet-specialist-banner"),this.$flooringCalculatorYourTotalSummaryTotalPrice=$("#flooring-calculator-your-total-summary-total-price"),this.$flooringCalculatorYourTotalSummaryTotalSave=$("#flooring-calculator-your-total-summary .save"),this.$flooringCalculatorYourTotalSummaryPricePerMonth=$("#flooring-calculator-your-total-summary-price-per-month"),this.$flooringCalculatorYourTotalSummaryStep1=$("#flooring-calculator-your-total-summary-step-1"),this.$flooringCalculatorYourTotalSummaryStep2=$("#flooring-calculator-your-total-summary-step-2"),this.$flooringCalculatorYourTotalSummaryAddToBasket=$("#flooring-calculator-your-total-summary-add-to-basket")}a.prototype.setWidth=function(t){t.urlParam&&(this.width.urlParam=t.urlParam),t.value&&(this.width.value=t.value,this.productCriteria.isLvt||this.productCriteria.isLaminate?this.width.decimalValue=parseFloat(t.value).toFixed(2):this.width.decimalValue=parseFloat(t.value/100).toFixed(2))},a.prototype.setColor=function(t){t.urlParam&&(this.color.urlParam=t.urlParam),t.value&&(this.color.value=t.value),t.displayValue&&(this.color.displayValue=t.displayValue)},a.prototype.setPrices=function(t){t&&(t.mid&&t.mid.length>0&&(this.prices.then=t.mid[0]),t.list&&(this.prices.was=t.list),t.sales&&(this.prices.now=t.sales),t.savings&&(this.prices.save=t.savings),t.app&&(this.prices.app=t.app))},a.prototype.setPricesPerPack=function(t){t&&(t.mid&&t.mid.length>0&&(this.pricesPerPack.then=t.mid[0]),t.list&&(this.pricesPerPack.was=t.list),t.sales&&(this.pricesPerPack.now=t.sales),t.savings&&(this.pricesPerPack.save=t.savings),t.app&&(this.pricesPerPack.app=t.app))},a.prototype.setPricesPerLinearMeter=function(t){t&&(t.mid&&t.mid.length>0&&(this.pricesPerLinearMeter.then=t.mid[0]),t.list&&(this.pricesPerLinearMeter.was=t.list),t.sales&&(this.pricesPerLinearMeter.now=t.sales),t.savings&&(this.pricesPerLinearMeter.save=t.savings),t.app&&(this.pricesPerLinearMeter.app=t.app))},a.prototype.setPricesHtml=function(t){this.pricesHtml=t},a.prototype.clearTotalPrices=function(){for(var t in this.totalPrices)this.totalPrices[t]=null},a.prototype.calculateTotalPrices=function(){if(this.totalSize){var t=+this.length+.1,e=this.pricesPerLinearMeter;for(var o in(this.productCriteria.isLvt||this.productCriteria.isLaminate)&&(t=this.quantity,e=this.pricesPerPack),e)if(e[o]){this.totalPrices[o]={},this.totalPrices[o].value=parseFloat(e[o].value*t).toFixed(2),this.totalPrices[o].currency=e[o].currency,this.totalPrices[o].currencySymbol=e[o].currencySymbol,this.totalPrices[o].formatted="".concat(e[o].currencySymbol).concat(this.totalPrices[o].value),this.totalPrices[o].decimalPrice="".concat(this.totalPrices[o].value),this.totalPrices[o].hasDecimal=e[o].hasDecimal;var a=this.totalPrices[o].decimalPrice.split(".");this.totalPrices[o].integerPartValue=a[0],this.totalPrices[o].decimalPartValue=a[1]}}},a.prototype.calculateTotalSize=function(){var t=parseFloat(+this.length+.1).toFixed(2);this.totalSize=parseFloat(this.width.decimalValue*t).toFixed(2),(this.productCriteria.isLvt||this.productCriteria.isLaminate)&&(this.quantity=Math.ceil(this.totalSize/this.packSize))},i.prototype.reset=function(){this.product=null,this.totalPrice=null,this.totalSave=null,this.totalSize=null},i.prototype.init=function(){this.reset()},i.prototype.calculateTotal=function(){this.product&&this.totalSize&&(this.totalPrice=parseFloat(this.product.price.value*this.totalSize).toFixed(2))},n.prototype=Object.create(i.prototype),n.prototype.reset=function(){this.totalPrice=null,this.totalSave=null},n.prototype.calculateTotal=function(){this.product.productCriteria.isLvt||this.product.productCriteria.isLaminate?(this.totalPrice=parseFloat(this.product.pricesPerPack.now.value*this.product.quantity).toFixed(2),this.product.pricesPerPack.save&&(this.totalSave=parseFloat(this.product.pricesPerPack.save.value*this.product.quantity).toFixed(2))):(this.totalPrice=parseFloat(this.product.pricesPerLinearMeter.now.value*(+this.product.length+.1)).toFixed(2),this.product.pricesPerLinearMeter.save&&(this.totalSave=parseFloat(this.product.pricesPerLinearMeter.save.value*(+this.product.length+.1)).toFixed(2)))},n.prototype.updateProduct=function(t,e){var o=t.data.section;o.$selectedProductVariant.html(e.data.product.variationAttributesHtml);var a={},i={};e.data.product.variationAttributes&&e.data.product.variationAttributes.forEach((function(t){"color"===t.id&&(t.selectedAttrValue&&(a=t.selectedAttrValue),a.urlParam=t.urlParam),"customFlooringWidth"===t.id&&(t.selectedAttrValue&&(i=t.selectedAttrValue),i.urlParam=t.urlParam)})),o.product.id=e.data.product.id,o.product.masterid=e.data.product.masterid,o.product.name=e.data.product.productName,o.product.productCriteria=e.data.product.productCriteria,o.product.packSize=e.data.product.keyFeatures.packSize,o.product.finance=e.data.product.finance,o.product.setColor(a),o.product.setWidth(i),o.product.setPrices(e.data.product.price),e.data.product.pricePerPack&&o.product.setPricesPerPack(e.data.product.pricePerPack),e.data.product.pricePerLinearMeter&&o.product.setPricesPerLinearMeter(e.data.product.pricePerLinearMeter),o.product.setPricesHtml(e.data.product.price.html),o.product.clearTotalPrices(),o.product.calculateTotalPrices(),e.data.product.images.large&&e.data.product.images.large.length>0&&(o.product.image=e.data.product.images.large[0]),o.renderProductDetails()},n.prototype.init=function(){function t(t){var e=t.data.section;if(e.$btnCalculatePrice.prop("disabled",!0),""!==e.$width.val()&&e.$width.val()>0&&""!==e.$length.val()&&e.$length.val()>0&&e.$btnCalculatePrice.prop("disabled",!1),e.product.productCriteria.isCarpet||e.product.productCriteria.isVinyl){var o=e.$length.val();e.$selectMeters.prop("checked")?o>10&&(o=10):o>32.8&&(o=32.8),o%1!=0&&(o=parseFloat(o).toFixed(1)),o!=e.$length.val()&&e.$length.val(o)}}this.product.url=$("#flooring-calculator-product-variantion-url").val(),this.product.measureUnit=this.$selectMeters.data("unit"),p.on("click","#flooring-calculator-section-1-btn-calculate-price",{section:this},(function(t){t.preventDefault();var e=t.data.section;e.$width.is("select")||e.$selectMeters.prop("checked")?e.product.setWidth({value:e.$width.val()}):e.product.setWidth({value:parseFloat(e.$width.val()/e.metersToFeetRation).toFixed(2)}),e.$selectMeters.prop("checked")?e.product.length=parseFloat(e.$length.val()).toFixed(2):e.product.length=parseFloat(e.$length.val()/e.metersToFeetRation).toFixed(2),e.product.calculateTotalSize(),e.product.calculateTotalPrices(),e.totalSize=e.product.totalSize,e.renderTotalSize(),e.renderPrices(e.product.totalPrices,!0),e.$calculator.addClass("d-none"),e.$calculatorResults.removeClass("d-none")})),p.on("product:afterAttributeSelect",{section:this},this.updateProduct),p.on("click","#flooring-calculator-section-1-btn-recalculate",{section:this},(function(t){t.preventDefault();var e=t.data.section;e.$calculator.removeClass("d-none"),e.$calculatorResults.addClass("d-none"),e.product.clearTotalPrices(),e.renderPrices(e.product.prices)})),p.on("change",'#flooring-calculator-section-1 input[name="flooring-calculator-meters-feet-inches"]',{section:this},(function(t){var e=t.data.section,o=$("#flooring-calculator-section-1-width > option");"meters"==$(this).val()?(o.length>0?o.each((function(){$(this).text(parseFloat($(this).text()/e.metersToFeetRation).toFixed(2))})):e.$width.val(parseFloat(e.$width.val()/e.metersToFeetRation).toFixed(2)),e.$length.val(parseFloat(e.$length.val()/e.metersToFeetRation).toFixed(2)),e.$equal.removeClass("feet-inches")):(o.length>0?o.each((function(){$(this).text(parseFloat($(this).text()*e.metersToFeetRation).toFixed(2))})):e.$width.val(parseFloat(e.$width.val()*e.metersToFeetRation).toFixed(2)),e.$length.val(parseFloat(e.$length.val()*e.metersToFeetRation).toFixed(2)),e.$equal.addClass("feet-inches"))})),p.on("keyup","input#flooring-calculator-section-1-width, input#flooring-calculator-section-1-length",{section:this},t),p.on("change","select#flooring-calculator-section-1-width",{section:this},(function(e){var o=e.data.section,a=$(this).val();function i(){var t=$(this),e=t.attr("href"),a={};for(var i in e.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,e,o){a[e]=o})),e="".concat(o.product.url,"?").concat(o.product.width.urlParam,"=").concat(o.product.width.value),a)i!==o.product.width.urlParam&&(e="".concat(e,"&").concat(i,"=").concat(a[i]));t.attr("href",e)}if(o.$btnCalculatePrice.prop("disabled",!0),""!==a){o.product.setWidth({value:a});var n="&".concat(o.product.width.urlParam,"=").concat(o.product.width.value),r="&".concat(o.product.color.urlParam,"=").concat(o.product.color.value),c="?pid=".concat(o.product.masterid);p.find(".js-product-attributes-picker .js-product-attribute-picker-item a").each(i),p.find(".js-pdp-primary-images-footer-swatches a").each(i),$.ajax({url:"".concat(o.product.url).concat(c).concat(r).concat(n),method:"GET",success:function(e){e.product&&e.product.price&&(o.product.id=e.product.id,o.product.name=e.product.productName,o.product.setPrices(e.product.price),e.product.pricePerPack&&o.product.setPricesPerPack(e.product.pricePerPack),e.product.pricePerLinearMeter&&o.product.setPricesPerLinearMeter(e.product.pricePerLinearMeter),o.product.setPricesHtml(e.product.price.html),e.product.images.large&&e.product.images.large.length>0&&(o.product.image=e.product.images.large[0]),o.renderProductDetails(),t({data:{section:o}}))},error:function(){}})}}))},n.prototype.renderPricesHtml=function(){this.$productPrices.html(this.product.pricesHtml)},n.prototype.renderPrices=function(t,e){var o=!1;for(var a in t)t[a]&&("save"==a?this.$productPrices.find(".product-pricing__".concat(a," .value")).text(t[a].formatted):t[a].hasDecimal?(this.$productPrices.find(".product-pricing__".concat(a," .product-pricing__now-value-main")).text(t[a].integerPartValue),this.$productPrices.find(".product-pricing__".concat(a," .product-pricing__now-value-decimal")).text(".".concat(t[a].decimalPartValue))):this.$productPrices.find(".product-pricing__".concat(a," .value")).text("".concat(t[a].currencySymbol).concat(t[a].integerPartValue)),o=!0);e&&o?this.$productPrices.find(".product-pricing__price-suffix").addClass("d-none"):this.$productPrices.find(".product-pricing__price-suffix").removeClass("d-none")},n.prototype.renderPackDetails=function(){this.$packSize.length&&this.$pricePerPack.length&&(this.$packSize.text("".concat(this.product.packSize," ").concat(this.sqm)),this.$pricePerPack.text("".concat(this.product.pricesPerPack.now.formatted)))},n.prototype.renderTotalSize=function(){$("#flooring-calculator-section-1-total-size-calculation > span").text(this.product.width.decimalValue+this.product.measureUnit+" x "+this.product.length+this.product.measureUnit),$("#flooring-calculator-section-1-total-size").html(this.product.totalSize),(this.product.productCriteria.isLvt||this.product.productCriteria.isLaminate)&&$("#flooring-calculator-section-1-packs-required").removeClass("d-none").find("span").text("".concat(this.product.quantity," ").concat(this.product.quantity>1?"packs":"pack")),this.$calculator.addClass("d-none"),this.$calculatorResults.removeClass("d-none")},n.prototype.renderProductDetails=function(){this.product.image.url&&this.$productImage.attr("src",this.product.image.url),this.product.image.alt&&this.$productImage.attr("alt",this.product.image.alt),this.product.name&&this.product.color.displayValue&&this.$productName.html("".concat(this.product.name," <span>").concat(this.product.color.displayValue,"</span>")),this.renderPricesHtml(),this.renderPrices(this.product.prices),this.renderPrices(this.product.totalPrices,!0),(this.product.productCriteria.isLvt||this.product.productCriteria.isLaminate)&&this.renderPackDetails()},r.prototype=Object.create(i.prototype),r.prototype.reset=function(){this.totalPrice=null,this.totalSave=null,this.product=null;var t=this.totalSize,e=this.currencySymbol;this.$underlaySaving.each((function(){$(this).addClass("d-none"),$(this).parent(".underlay").find(".free-fitting-text").addClass("d-none");var o=$(this).find("span"),a=o.data("min-order");if(t>a){var i=o.data("price");if(i){var n=parseFloat(i*t).toFixed(2);o.text("".concat(e).concat(n)),$(this).removeClass("d-none"),$(this).parent(".underlay").find(".free-fitting-text").removeClass("d-none")}}})),this.$packsRequired.each((function(){var e=$(this).data("pack-size");if(e){var o=Math.ceil(t/e);$(this).text("".concat(o," ").concat(o>1?"packs":"pack")),$(this).parent().removeClass("d-none")}}))},r.prototype.calculateTotal=function(){this.product&&this.totalSize&&(this.product.quantity?this.totalPrice=parseFloat(this.product.pricePerPack.value*this.product.quantity).toFixed(2):this.totalPrice=parseFloat(this.product.price.value*+parseFloat(this.totalSize).toFixed(1)).toFixed(2))},c.prototype=Object.create(i.prototype),c.prototype.addDoorToList=function(t){var e=t.data.section;e.doorsAdded++;var o=e.$doorsList.find("li:last-child");if(o.length>0&&o.find(".btn-add-door.active").length>0){var a=o.clone();a.find(".door-title > p > span").text(e.doorsAdded),a.find(".btn-add-door").removeClass("active"),e.$doorsList.append(a)}else{var i=$(e.$doorContainerClone.html());i.find(".door-title > p > span").text(e.doorsAdded),Object.keys(e.doorsMapping.Width).forEach((function(t){i.find('select[name="door-width"]').append('<option value="'.concat(t,'">').concat(t,"</option>"))})),e.$doorsList.append(i)}},c.prototype.reset=function(){if(this.doorsAdded=0,this.doors={},this.gripper=null,this.totalPrice=null,this.totalSave=null,this.doorsMapping&&(this.$doorsList.empty(),this.addDoorToList({data:{section:this}})),this.$btnAddGripper.removeClass("active"),this.totalSize){var t=this.$btnAddGripper.data("width")/1e3;this.$selectGripperQty.val(Math.ceil(this.totalSize/t))}this.$skipTrimsGrippers.removeClass("d-none"),this.$btnNext.prop("disabled",!0)},c.prototype.removeDoor=function(t){1===this.doors[t].qty?delete this.doors[t]:this.doors[t].qty--},c.prototype.init=function(){this.doorsMapping=this.$doorContainerClone.data("doors-mapping"),this.reset(),p.on("change",'#flooring-calculator-section-3 #flooring-calculator-doors-list select[name="door-width"]',{section:this},(function(t){var e=t.data.section,o=e.doorsMapping,a=$(this).val(),i=$(this).closest("li"),n=i.find(".btn-add-door"),r=i.find(".btn-remove-door"),c=i.find('select[name="door-colour"]'),s=i.find('select[name="door-flooring-type"]');($(this).find('option[value="'.concat(a,'"]')).prop("selected",!0).attr("selected",!0),c.find("option").not(":first").remove(),s.find("option").not(":first").remove(),n.hasClass("active")&&e.removeDoor(n.data("pid")),i.find(".door-price").addClass("d-none"),n.prop("disabled",!0).removeClass("active"),r.removeClass("active"),""!==a)&&Object.keys(o.Width[a].Colour).forEach((function(t){c.append('<option value="'.concat(t,'">').concat(t,"</option>"))}))})),p.on("change",'#flooring-calculator-section-3 #flooring-calculator-doors-list select[name="door-colour"]',{section:this},(function(t){var e=t.data.section,o=e.doorsMapping,a=$(this).val(),i=$(this).closest("li"),n=i.find(".btn-add-door"),r=i.find(".btn-remove-door"),c=i.find('select[name="door-width"]').val(),s=i.find('select[name="door-flooring-type"]');($(this).find('option[value="'.concat(a,'"]')).prop("selected",!0).attr("selected",!0),s.find("option").not(":first").remove(),n.hasClass("active")&&e.removeDoor(n.data("pid")),i.find(".door-price").addClass("d-none"),n.prop("disabled",!0).removeClass("active"),r.removeClass("active"),""!==a)&&Object.keys(o.Width[c].Colour[a]["Flooring Type"]).forEach((function(t){s.append('<option value="'.concat(t,'">').concat(t,"</option>"))}))})),p.on("change",'#flooring-calculator-section-3 #flooring-calculator-doors-list select[name="door-flooring-type"]',{section:this},(function(t){var e=t.data.section,o=e.doorsMapping,a=e.productVariationUrl,i=$(this).val(),n=$(this).closest("li"),r=n.find('select[name="door-width"]').val(),c=n.find('select[name="door-colour"]').val(),s=n.find(".btn-add-door"),l=n.find(".btn-remove-door"),d=n.find(".door-price");if($(this).find('option[value="'.concat(i,'"]')).prop("selected",!0).attr("selected",!0),s.hasClass("active")&&e.removeDoor(s.data("pid")),d.addClass("d-none"),s.prop("disabled",!0).removeClass("active"),l.removeClass("active"),""!==i){var u=o.Width[r].Colour[c]["Flooring Type"][i];$.ajax({url:"".concat(a,"?pid=").concat(u),method:"GET",success:function(t){t.product&&t.product.price&&(d.find(".price span").html(t.product.price.sales.decimalPrice),d.removeClass("d-none"),s.prop("disabled",!1),s.data("pid",u).attr("data-pid",u),s.data("price",t.product.price.sales).attr("data-price",t.product.price.sales),s.data("width",r).attr("data-width",r),s.data("color",c).attr("data-color",c),s.data("flooring-type",i).attr("data-flooring-type",i),l.data("pid",u).attr("data-pid",u))},error:function(){}})}})),p.on("click","#flooring-calculator-section-3 #flooring-calculator-doors-list button.btn-add-door:not(.active)",{section:this},(function(t){$(this).addClass("active");var e=t.data.section,o=$(this).data("pid");$(this).closest("li").find("button.btn-remove-door").addClass("active"),e.$skipTrimsGrippers.addClass("d-none"),e.$btnNext.prop("disabled",!1),o in e.doors?e.doors[o].qty++:e.doors[o]={id:o,qty:1,price:$(this).data("price")}})),p.on("click","#flooring-calculator-section-3 #flooring-calculator-doors-list button.btn-remove-door",{section:this},(function(t){var e=t.data.section,o=$(this).data("pid"),a=$(this),i=a.closest("li");a.hasClass("active")&&(1===e.doors[o].qty?delete e.doors[o]:e.doors[o].qty--),i.remove(),e.doorsAdded--,e.$doorsList.find("li > div.door-title > p > span").each((function(t){$(this).text(t+1)})),0===Object.keys(e.doors).length&&null===e.gripper&&(e.$skipTrimsGrippers.removeClass("d-none"),e.$btnNext.prop("disabled",!0))})),p.on("click","#flooring-calculator-section-3 #flooring-calculator-add-another-door",{section:this},this.addDoorToList),p.on("change","#flooring-calculator-section-3 #flooring-calculator-select-gripper-qty",{section:this},(function(t){var e=t.data.section;e.gripper=null,e.$btnAddGripper.removeClass("active")})),p.on("click","#flooring-calculator-section-3 #flooring-calculator-btn-add-grippers:not(.active)",{section:this},(function(t){$(this).addClass("active");var e=t.data.section;e.gripper={id:$(this).data("pid"),qty:e.$selectGripperQty.val(),price:$(this).data("price"),width:$(this).data("width")},e.$skipTrimsGrippers.addClass("d-none"),e.$btnNext.prop("disabled",!1)}))},c.prototype.calculateTotal=function(){var t=0;for(var e in this.doors)t+=this.doors[e].price.value*this.doors[e].qty;this.gripper&&(t+=this.gripper.price.value*this.gripper.qty),0!==t&&(this.totalPrice=parseFloat(t).toFixed(2))},s.prototype=Object.create(i.prototype),s.prototype.reset=function(){this.totalPrice=null,this.totalSave=null,this.product=null,this.freeFitting=!1,this.adminFee=null},s.prototype.calculateTotal=function(){this.product&&this.totalSize&&(this.totalPrice=parseFloat(this.product.price*this.totalSize).toFixed(2))},l.prototype=Object.create(i.prototype),d.prototype=Object.create(i.prototype),u.prototype.activateCurrentSection=function(){this.calculateTotal();for(var t=1;t<=this.totalSections;t++)this["$section".concat(t)].removeClass("free-fitting").removeClass("skipped").removeClass("completed").removeClass("active"),this["$step".concat(t)].removeClass("free-fitting").removeClass("skipped").removeClass("completed").removeClass("active"),this.clearStep(t);for(var e=1;e<this.currentSection;e++){var o="skipped";(this["section".concat(e)].totalPrice||this["section".concat(e)].freeFitting)&&(o="completed",this.renderStep(e)),this["$section".concat(e)].addClass(o),this["$step".concat(e)].addClass(o)}this["$section".concat(this.currentSection)].addClass("active"),this["$step".concat(this.currentSection)].addClass("active"),this["section".concat(this.currentSection)].reset(),this.$flooringCalculatorModal.animate({scrollTop:0},200),this.$carpetSpecialistBanner.removeClass("active"),this.currentSection>1&&this.currentSection<this.totalSections&&(this["$section".concat(this.totalSections)].addClass("completed"),this["$step".concat(this.totalSections)].addClass("completed"),this.renderStep(this.totalSections),this.$carpetSpecialistBanner.addClass("active")),this.currentSection==this.totalSections?(this.$flooringCalculatorNavigationMenu.addClass("d-none"),this.$flooringCalculatorYourTotalSummary.addClass("d-block"),this.$flooringCalculatorYourTotalSummaryStep1.removeClass("d-none"),this.$flooringCalculatorYourTotalSummaryStep2.addClass("d-none"),this.$flooringCalculatorYourTotalSummaryAddToBasket.removeClass("d-none"),this.renderSummary()):(this.$flooringCalculatorNavigationMenu.removeClass("d-none"),this.$flooringCalculatorYourTotalSummary.removeClass("d-block"),this.$flooringCalculatorYourTotalSummaryStep1.removeClass("d-none"),this.$flooringCalculatorYourTotalSummaryStep2.addClass("d-none"),this.$flooringCalculatorYourTotalSummaryAddToBasket.addClass("d-none"),this.$flooringCalculatorYourTotalSummaryStep1.find(".fitting-service-details").addClass("d-none"),this.$flooringCalculatorYourTotalSummaryStep1.find(".payable-today").addClass("d-none"),this.$flooringCalculatorYourTotalSummaryStep1.find(".fitting-fee").addClass("d-none"),this.$flooringCalculatorYourTotalSummaryStep1.find(".admin-fee").addClass("d-none"),this.$flooringCalculatorYourTotalSummaryPricePerMonth.parent(".credit").addClass("d-none"))},u.prototype.calculateTotal=function(){for(var t=0,e=0,o=1;o<this.currentSection;o++)this["section".concat(o)].calculateTotal(),this["section".concat(o)].totalPrice&&!this["section".concat(o)].freeFitting&&(t=parseFloat(parseFloat(t)+parseFloat(this["section".concat(o)].totalPrice)).toFixed(2)),this["section".concat(o)].totalSave&&(e=parseFloat(parseFloat(e)+parseFloat(this["section".concat(o)].totalSave)).toFixed(2));this.totalPrice=t,this.totalSave=e},u.prototype.clearStep=function(t){this["$step".concat(t)].find("div").html("")},u.prototype.renderStep=function(t){var e="";switch(t){case 1:e=this.section1.product.productCriteria.isLvt||this.section1.product.productCriteria.isLaminate?"\n                    ".concat(this.section1.product.pricesPerPack.now.formatted," x ").concat(this.section1.product.quantity,' packs =\n                    <span class="total-price">').concat(this.currencySymbol).concat(this.section1.totalPrice,"</span>\n                "):"\n                    ".concat(this.section1.product.prices.now.formatted," x ").concat(this.section1.totalSize," ").concat(this.sqm,' =\n                    <span class="total-price">').concat(this.currencySymbol).concat(this.section1.totalPrice,"</span>\n                ");break;case 2:e=this.section1.product.productCriteria.isLvt||this.section1.product.productCriteria.isLaminate?"\n                    ".concat(this.section2.product.pricePerPack.formatted," x ").concat(this.section2.product.quantity," ").concat(this.section2.product.quantity>1?"packs":"pack",' =\n                    <span class="total-price">').concat(this.currencySymbol).concat(this.section2.totalPrice,"</span>\n                "):"\n                    ".concat(this.section2.product.price.formatted," x ").concat(parseFloat(this.section2.totalSize).toFixed(1)," ").concat(this.sqm,' =\n                    <span class="total-price">').concat(this.currencySymbol).concat(this.section2.totalPrice,"</span>\n                ");break;case 3:for(var o in this.section3.doors)e+="\n                    <span>Door Trim</span> ".concat(this.section3.doors[o].qty," x ").concat(this.section3.doors[o].price.formatted,"<br/>\n                ");this.section3.gripper&&(e+="<span>Gripper Rods</span> ".concat(this.section3.gripper.qty," x ").concat(this.section3.gripper.price.formatted)),e+='\n                <span class="total-price">'.concat(this.currencySymbol).concat(this.section3.totalPrice,"</span>\n            ");break;case 4:this.section4.freeFitting?(this["$step".concat(t)].addClass("free-fitting"),e='\n                <p>Great! You have qualified for<br>\n                <span class="free-fitting">FREE FITTING</span></p>\n                <span class="saving-you">Saving you</span> <span class="total-price">'.concat(this.currencySymbol).concat(this.section2.totalSave,"</span>\n                ")):(this["$step".concat(t)].removeClass("free-fitting"),e="\n                ".concat(this.currencySymbol).concat(this.section4.product.price," x ").concat(this.section1.totalSize," ").concat(this.sqm,' =\n                    <span class="total-price">').concat(this.currencySymbol).concat(this.section4.totalPrice,"</span>\n                "));break;case 5:e='\n                <span class="total-price">'.concat(this.section5.product.price.formatted,"</span>\n            ");break;case 6:this.$flooringCalculatorYourTotalSummaryTotalPrice.html("\n                <span>".concat(this.currencySymbol,"</span>").concat(this.totalPrice,"\n            ")),this.totalSave>0?(e+='<span class="save">'.concat(this.$step6.data("save-label")," ").concat(this.currencySymbol).concat(this.totalSave,"</span>"),this.$flooringCalculatorYourTotalSummaryTotalSave.removeClass("d-none"),this.$flooringCalculatorYourTotalSummaryTotalSave.html("\n                    save ".concat(this.currencySymbol).concat(parseFloat(this.totalSave).toFixed(0),"\n                "))):this.$flooringCalculatorYourTotalSummaryTotalSave.addClass("d-none"),e+='\n                <span class="total-label">'.concat(this.$step6.data("total-label"),'</span>\n                <span class="total-price">').concat(this.currencySymbol).concat(this.totalPrice,"</span>\n            ")}this["$step".concat(t)].find("div").html(e)},u.prototype.renderSummary=function(){for(var t="",e=1;e<=this.section6.summaryItems;e++)if(null!==this["section".concat(e)].totalPrice){switch(t="",e){case 1:t=this.section1.product.productCriteria.isLvt||this.section1.product.productCriteria.isLaminate?"\n                            <p><span>".concat(this.section1.product.name,'</span></p>\n                            <p class="bold"><span>').concat(this.section1.product.prices.now.formatted," ").concat(this.sqm,"</span></p>\n                            <p>Pack size: <span>").concat(this.section1.product.packSize," ").concat(this.sqm,"</span></p>\n                            <p>Price per pack: <span>").concat(this.section1.product.pricesPerPack.now.formatted,"</span></p>\n                            <p>Colour: <span>").concat(this.section1.product.color.displayValue,"</span></p>\n                            <p>Size: <span>").concat(this.section1.product.width.decimalValue).concat(this.section1.product.measureUnit," x ").concat(parseFloat(+this.section1.product.length+.1).toFixed(1)).concat(this.section1.product.measureUnit," = ").concat(this.section1.totalSize," ").concat(this.sqm,"</span> (<span>").concat(this.section1.product.quantity," ").concat(this.section1.product.quantity>1?"packs":"pack",'</span>)</p>\n                            <p class="small">(Includes additional ').concat(this.section1.product.width.value/10,' cm across net width of product)</p>\n                            <p class="price"><span>').concat(this.currencySymbol,"</span>").concat(this.section1.totalPrice,"</p>\n                        "):"\n                            <p><span>".concat(this.section1.product.name,'</span></p>\n                            <p class="bold"><span>').concat(this.section1.product.prices.now.formatted," ").concat(this.sqm,"</span></p>\n                            <p>Colour: <span>").concat(this.section1.product.color.displayValue,"</span></p>\n                            <p>Size: <span>").concat(this.section1.product.width.decimalValue).concat(this.section1.product.measureUnit," x ").concat(parseFloat(+this.section1.product.length+.1).toFixed(1)).concat(this.section1.product.measureUnit," = ").concat(this.section1.totalSize," ").concat(this.sqm,'</span></p>\n                            <p class="small">(Includes additional ').concat(this.section1.product.width.value/10,' cm across net width of product)</p>\n                            <p class="price"><span>').concat(this.currencySymbol,"</span>").concat(this.section1.totalPrice,"</p>\n                        "),this.section6.$summaryItem1.find("img").attr("src",this.section1.product.image.url).attr("alt",this.section1.product.image.alt);break;case 2:t=this.section1.product.productCriteria.isLvt||this.section1.product.productCriteria.isLaminate?"\n                            <p><span>Underlay</span><br/>\n                            <span>".concat(this.section2.product.name,'</span></p>\n                            <p class="bold"><span>').concat(this.section2.product.price.formatted," ").concat(this.sqm,"</span></p>\n                            <p>Price per pack: <span>").concat(this.section2.product.pricePerPack.formatted,"</span></p>\n                            <p>Quantity: <span>").concat(this.section2.product.quantity," ").concat(this.section2.product.quantity>1?"packs":"pack",'</span></p>\n                            <p class="price"><span>').concat(this.currencySymbol,"</span>").concat(this.section2.totalPrice,"</p>\n                        "):"\n                            <p><span>Underlay</span><br/>\n                            <span>".concat(this.section2.product.name,'</span></p>\n                            <p class="bold"><span>').concat(this.section2.product.price.formatted," ").concat(this.sqm,"</span></p>\n                            <p>Quantity: <span>").concat(parseFloat(this.section2.totalSize).toFixed(1)," ").concat(this.sqm,'</span></p>\n                            <p class="price"><span>').concat(this.currencySymbol,"</span>").concat(this.section2.totalPrice,"</p>\n                        "),this.section6.$summaryItem2.find("img").attr("src",this.section2.product.image.url).attr("alt",this.section2.product.image.alt);break;case 3:if(Object.keys(this.section3.doors).length>0)for(var o in t+="<p><span>Door Trim</span><br/>",this.section3.doors)if(this.section3.doors[o].qty>1){var a=parseFloat(this.section3.doors[o].qty*this.section3.doors[o].price.value).toFixed(2);t+="\n                                    <span>".concat(this.section3.doors[o].qty," x ").concat(this.section3.doors[o].price.formatted," = ").concat(this.currencySymbol).concat(a,"</span><br/>\n                                ")}else t+="\n                                    <span>".concat(this.section3.doors[o].qty," x ").concat(this.section3.doors[o].price.formatted,"</span><br/>\n                                ");if(this.section3.gripper){t+="</p><p><span>Gripper Rods</span><br/>";var i=parseFloat(this.section3.gripper.qty*this.section3.gripper.price.value).toFixed(2);t+="<span>".concat(this.section3.gripper.qty," x ").concat(this.section3.gripper.price.formatted," = ").concat(this.currencySymbol).concat(i,"</span>")}t+='\n                        </p><p class="price"><span>'.concat(this.currencySymbol,"</span>").concat(this.section3.totalPrice,"</p>\n                    ");break;case 4:this.section2.totalSave?(this.section6["$summaryItem".concat(e)].find(".summary").addClass("free-fitting"),t='\n                            <p>\n                                <span>Congratulations</span> \n                                <span>You have qualified for</span>\n                                <span>FREE</span>\n                                <span>FITTING</span>\n                            </p>\n                            <p class="price"><span class="save">SAVE</span><span>'.concat(this.currencySymbol,"</span>").concat(this.section2.totalSave,"</p>\n                        ")):(this.section6["$summaryItem".concat(e)].find(".summary").removeClass("free-fitting"),t="\n                            <p><span>".concat(this.section4.product.name,"</span><br/>\n                                <span>").concat(this.currencySymbol).concat(this.section4.product.price," x ").concat(this.section1.totalSize," ").concat(this.sqm," =\n                                ").concat(this.currencySymbol).concat(this.section4.totalPrice,'</span>\n                            </p>\n                            <p class="price"><span>').concat(this.currencySymbol,"</span>").concat(this.section4.totalPrice,"</p>\n                        "));break;case 5:t="\n                        <p><span>".concat(this.section5.product.name,'</span></p>\n                        <p class="price"><span>').concat(this.currencySymbol,"</span>").concat(this.section5.totalPrice,"</p>\n                    ")}this.section6["$summaryItem".concat(e)].find(".summary-element > div").html(t),this.section6["$summaryItem".concat(e)].removeClass("d-none")}else this.section6["$summaryItem".concat(e)].addClass("d-none");var n=this.totalPrice;if(this.section4.adminFee){var r=+this.section4.adminFee.price.sales.value*+parseFloat(this.section4.totalSize).toFixed(1);n=+n+ +r,this.$flooringCalculatorYourTotalSummaryStep1.find(".admin-fee").removeClass("d-none").find(".admin-fee-price").text("".concat(this.currencySymbol).concat(parseFloat(r).toFixed(2)))}this.$flooringCalculatorYourTotalSummaryTotalPrice.html("<span>".concat(this.currencySymbol,"</span>").concat(parseFloat(n).toFixed(2))),this.section4.product?(this.section2.totalSave?(n=+n-+this.section2.totalSave,this.$flooringCalculatorYourTotalSummaryStep1.find(".fitting-fee").removeClass("d-none").find(".fitting-fee-price").text("-".concat(this.currencySymbol).concat(this.section2.totalSave)),this.$flooringCalculatorYourTotalSummaryStep1.find(".fitting-service-details").removeClass("d-none").find("span").text("".concat(this.currencySymbol).concat(this.section2.totalSave))):(n=+n-+this.section4.totalPrice,this.$flooringCalculatorYourTotalSummaryStep1.find(".fitting-service-details").removeClass("d-none").find("span").text("".concat(this.currencySymbol).concat(this.section4.totalPrice))),this.$flooringCalculatorYourTotalSummaryStep1.find(".payable-today").removeClass("d-none").find(".payable-today-price").text("".concat(this.currencySymbol).concat(parseFloat(n).toFixed(2)))):this.$flooringCalculatorYourTotalSummaryStep1.find(".payable-today").addClass("d-none"),n&&n>=this.section1.product.finance.minAmountToSpend.value&&this.$flooringCalculatorYourTotalSummaryPricePerMonth.html("\n                <span>".concat(this.currencySymbol,"</span>").concat(parseFloat((n-this.section1.product.finance.minDeposit.value)/this.section1.product.finance.defaultPeriod).toFixed(2),"\n            ")).parent(".credit").removeClass("d-none"),this.totalSave?(this.$flooringCalculatorYourTotalSummaryTotalSave.removeClass("d-none"),this.$flooringCalculatorYourTotalSummaryTotalSave.html("\n            save ".concat(this.currencySymbol).concat(parseFloat(this.totalSave).toFixed(0),"\n        "))):this.$flooringCalculatorYourTotalSummaryTotalSave.addClass("d-none")};var p=$(document);t.exports=function(){if($("#flooring-calculator-modal").length>0){var t=new u,e=$("button.calculate-price").data("pid");$.ajax({url:"".concat(t.section1.product.url,"?pid=").concat(e),method:"GET",success:function(e){t.section1.updateProduct({data:{section:t.section1}},{data:e}),!t.section1.product.width.value||t.section1.product.productCriteria.isLaminate||t.section1.product.productCriteria.isLvt||t.section1.$width.val(t.section1.product.width.value)},error:function(){}}),p.on("click","button.calculate-price, button.btn-calculate-guide-price",(function(e){e.preventDefault(),$.spinner().start(),setTimeout((function(){$.spinner().stop(),t.$flooringCalculatorModal.removeClass("d-none"),$("body").addClass("modal-open")}),1e3)})),p.on("click","#flooring-calculator-modal #close-modal-btn, #flooring-calculator-your-total-summary-continue-shopping",(function(e){e.preventDefault(),t.$flooringCalculatorModal.addClass("d-none"),$("body").removeClass("modal-open")})),p.on("click","#flooring-calculator-modal #close-modal-btn, #flooring-calculator-your-total-summary-continue-shopping",(function(e){e.preventDefault(),t.$flooringCalculatorModal.addClass("d-none"),$("body").removeClass("modal-open"),t.section1.$calculator.removeClass("d-none"),t.section1.$calculatorResults.addClass("d-none"),t.section1.product.clearTotalPrices(),t.section1.renderPrices(t.section1.product.prices),t.section1.reset(),t.$flooringCalculatorYourTotalSummaryTotalPrice.html(""),t.$flooringCalculatorYourTotalSummaryTotalSave.addClass("d-none"),t.$flooringCalculatorYourTotalSummaryStep1.removeClass("d-none"),t.$flooringCalculatorYourTotalSummaryStep2.addClass("d-none"),t.currentSection=1,t.activateCurrentSection()})),p.on("click","#flooring-calculator-section-1-btn-continue-perfect-floor",(function(e){e.preventDefault(),t.section2.totalSize=+t.section1.product.width.decimalValue*(+t.section1.product.length+.1),t.section3.totalSize=parseFloat(2*t.section1.product.width.decimalValue+2*t.section1.product.length).toFixed(2),$("#flooring-calculator-section-3 .grippers h4 > span > span").html("".concat(t.section3.totalSize,"m")),t.currentSection=2,t.section1.product.productCriteria.isVinyl&&(t.currentSection=3),t.activateCurrentSection()})),p.on("click","#flooring-calculator-section-2 .btn-choose-underlay",(function(e){e.preventDefault(),t.currentSection=3,t.section2.product={id:$(this).data("pid"),name:$(this).data("name"),price:$(this).data("price"),pricePerPack:$(this).data("price-per-pack"),packSize:$(this).data("pack-size"),image:{src:$(this).data("img-src"),alt:$(this).data("img-src")}},(t.section1.product.productCriteria.isLvt||t.section1.product.productCriteria.isLaminate)&&(t.section2.product.quantity=Math.ceil(t.section1.totalSize/t.section2.product.packSize));var o=$(this).data("save"),a=$(this).data("min-order");o&&t.section2.totalSize>a?(t.section2.totalSave=parseFloat(o*(+t.section1.product.width.decimalValue*(+t.section1.product.length+.1))).toFixed(2),t.section4.product={name:t.section4.$btnAddFitting.data("name"),price:t.section4.$btnAddFitting.data("price")},t.section4.adminFee=t.section4.$btnAddFitting.data("admin-fee"),t.section4.totalSize=+t.section1.product.width.decimalValue*(+t.section1.product.length+.1),t.section4.freeFitting=!0):t.section4.reset(),t.activateCurrentSection()})),p.on("click","#flooring-calculator-section-3-btn-next",(function(e){e.preventDefault(),t.section4.freeFitting?(t.currentSection=5,t.section4.totalPrice=0):t.currentSection=4,t.section1.totalSize<t.section4.$btnAddFitting.data("min-order")&&(t.section4.reset(),t.currentSection=5),4===t.currentSection&&(t.section1.product.productCriteria.isLaminate||t.section1.product.productCriteria.isLvt)&&(t.currentSection=6),5!==t.currentSection||t.section1.product.productCriteria.isCarpet||(t.currentSection=6),t.activateCurrentSection()})),p.on("click","#flooring-calculator-section-4-btn-add-fitting",(function(e){e.preventDefault(),t.section4.product={name:$(this).data("name"),price:$(this).data("price")},t.section4.adminFee=$(this).data("admin-fee"),t.section4.totalSize=+t.section1.product.width.decimalValue*(+t.section1.product.length+.1),t.currentSection=5,t.section1.product.productCriteria.isCarpet||(t.currentSection=6),t.activateCurrentSection()})),p.on("click","#flooring-calculator-section-5-btn-add-care-kit",(function(e){e.preventDefault(),t.section5.product={id:$(this).data("pid"),name:$(this).data("name"),price:$(this).data("price")},t.section5.totalSize=1,t.currentSection=6,t.activateCurrentSection()})),p.on("click",'a[id^="flooring-calculator-skip-"]',(function(e){e.preventDefault();var o=$(this).data("skip-step-id");2===t.currentSection&&(t.section4.reset(),t.section1.product.productCriteria.isVinyl&&(t.currentSection=3)),3===o?(t.section3.reset(),t.section4.freeFitting?t.currentSection=5:t.section1.totalSize<t.section4.$btnAddFitting.data("min-order")?(t.section4.reset(),t.currentSection=5):t.currentSection=4):t.currentSection=o+1,4===t.currentSection&&(t.section1.product.productCriteria.isLaminate||t.section1.product.productCriteria.isLvt)&&(t.currentSection=6),5!==t.currentSection||t.section1.product.productCriteria.isCarpet||(t.currentSection=6),t.activateCurrentSection()})),p.on("click",'#flooring-calculator-navigation-menu li[id^="flooring-calculator-step-"].completed:not(.free-fitting):not(li[id="flooring-calculator-step-6"]), #flooring-calculator-navigation-menu li[id^="flooring-calculator-step-"].skipped:not(li[id="flooring-calculator-step-6"]), #flooring-calculator-modal .section.completed h2, #flooring-calculator-modal .section.skipped h2, #flooring-calculator-modal button[id^="btn-edit-step-"]',(function(e){t.currentSection=$(this).data("step-id"),t.activateCurrentSection()})),p.on("click",'#flooring-calculator-modal button[id^="btn-remove-step-"]',(function(e){var o=$(this).data("step-id");t["section".concat(o)].reset(),2==o&&t.section4.freeFitting&&t.section4.reset(),t.activateCurrentSection()})),p.on("click","#flooring-calculator-your-total-summary-add-to-basket",(function(e){e.preventDefault();var o=$(this);o.prop("disabled",!0);for(var a=$(this).data("url"),i=$(this).data("url-add-fitting-service"),n=[],r=1;r<t.totalSections;r++)if(t["section".concat(r)].totalPrice||t["section".concat(r)].freeFitting)switch(r){case 1:if(t["section".concat(r)].product.productCriteria.isLvt||t["section".concat(r)].product.productCriteria.isLaminate)n.push({pid:t["section".concat(r)].product.id,quantity:t["section".concat(r)].product.quantity});else{var c=parseFloat(+t["section".concat(r)].product.length+.1).toFixed(1);n.push({pid:t["section".concat(r)].product.id,quantity:+c})}break;case 2:t.section1.product.productCriteria.isLvt||t.section1.product.productCriteria.isLaminate?n.push({pid:t["section".concat(r)].product.id,quantity:t["section".concat(r)].product.quantity,linkedFlooringProductID:t.section1.product.id}):n.push({pid:t["section".concat(r)].product.id,quantity:parseFloat(t["section".concat(r)].totalSize).toFixed(1),linkedFlooringProductID:t.section1.product.id});break;case 3:for(var s in t["section".concat(r)].doors)n.push({pid:s,quantity:t["section".concat(r)].doors[s].qty});t["section".concat(r)].gripper&&n.push({pid:t["section".concat(r)].gripper.id,quantity:t["section".concat(r)].gripper.qty});break;case 4:n.push({flooringProductID:t.section1.product.id}),n.push({pid:t["section".concat(r)].adminFee.id,quantity:t["section".concat(r)].totalSize});break;case 5:n.push({pid:t["section".concat(r)].product.id,quantity:1})}!function e(n,r,c){var s=n[r];$.ajax({url:"flooringProductID"in s?i:a,method:"POST",data:s,success:function(a){a.error?e(n,r,!1):("flooringProductID"in s||$(".minicart").trigger("count:update",a),++r>=n.length?(t.$flooringCalculatorYourTotalSummaryStep1.addClass("d-none"),t.$flooringCalculatorYourTotalSummaryStep2.removeClass("d-none"),o.prop("disabled",!1)):e(n,r,!0))},error:function(t){c?e(n,r,!1):window.alert(t.responseJSON.message)}})}(n,0,!0)})),"true"===new URL(document.baseURI).searchParams.get("calculatePrice")&&$(document).find("button.calculate-price").trigger("click")}}},127:function(t,e,o){"use strict";var a,i,n,r={};n={speed:400,zoom:!1,watchOverflow:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".product-detail-carousel__controls .swiper-button-next",prevEl:".product-detail-carousel__controls .swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!1}},$(".js-pdp-carousel-thumbs").length>0&&(i=new Swiper(".js-pdp-carousel-thumbs",{slidesPerView:4,watchOverflow:!0,speed:100,threshold:10,spaceBetween:10,navigation:{nextEl:".product-detail-thumbnail-carousel__controls .swiper-button-next",prevEl:".product-detail-thumbnail-carousel__controls .swiper-button-prev"}}),n.thumbs={swiper:i}),(a=new Swiper(".js-pdp-carousel",n)).on("slideChangeTransitionStart",(function(){this.$el.removeClass("is-active-video-slide"),this.$el.removeClass("is-active-sketchfab-slide"),this.$el.find(".swiper-slide-active").hasClass("pdp-carousel-slide-video")?function(t){var e=t.find(".swiper-slide-active").data("pid"),o=t.find(".swiper-slide-active").data("url");if(window.Vimeo)if(r[e])t.addClass("is-active-video-slide");else{var a={url:o};r[e]=new Vimeo.Player(e,a),t.addClass("is-active-video-slide")}else{var i=document.createElement("script");i.src=window.SitePreferences.vimeoApiUrl,i.onload=function(a){var i={url:o};r[e]=new Vimeo.Player(e,i),t.addClass("is-active-video-slide")},document.body.appendChild(i)}}(this.$el):this.$el.find(".swiper-slide-active").hasClass("js-sketchfab-content")&&($(document).trigger("sketchfabTriggerInit",{cb:function(t){}}),this.$el.addClass("is-active-sketchfab-slide"))})),window.pdpCarousel=a,$("body").on("product:afterAttributeSelect",(function(t,e){!function(t){var e=t.data.product,o=e.images,n=e.video,r=n&&n.url;if(i){i.removeAllSlides();var c=!0,s=!0,l=!1;o.small.forEach((function(a){i.appendSlide('\n                <div class="swiper-slide pdp-carousel-slide__thumb vwo-hidethumbs">\n                    <div class="pdp-carousel-slide__thumb-content">\n                        <img src="'.concat(a.url,'" alt="').concat(e.productName," | ").concat(e.primaryCategoryName,' | ScS" itemprop="image">\n                    </div>\n                </div>\n            '));var d=2,u=a.url.split("_"),p=u[u.length-1].split(".")[0];c&&3==p&&(d=3),c=!1;var h='\n                <div class="pdp-carousel-slide__thumb-button">\n                    <span class="pdp-carousel-slide__thumb-icon pdp-carousel-slide__thumb-icon--video" aria-hidden="true"></span>\n                    <span class="pdp-carousel-slide__thumb-title">Video</span>\n                </div>\n            ';if(t.data.sketchfabEnable&&t.data.product.sketchfabID&&p==d){if(s&&(i.appendSlide('\n                        <div class="swiper-slide pdp-carousel-slide__thumb pdp-carousel-slide__thumb--double pdp-carousel-slide__thumb--'.concat(e.hasAugmentedReality?"has-ar":"no-ar",'">\n                            <div class="pdp-carousel-slide__thumb-content">\n                                <div class="sketchfab-thumb-overlay"></div>\n                                <img src="').concat(o.small[0].url,'" alt="').concat(e.productName," | ").concat(e.primaryCategoryName,' | ScS" itemprop="image">\n                            </div>\n                            \n                            ').concat(e.hasAugmentedReality?'\n                <div class="pdp-carousel-slide__thumb-button" id="js-start-ar">\n                    <span class="pdp-carousel-slide__thumb-icon pdp-carousel-slide__thumb-icon--ar" aria-hidden="true"></span>\n                    <span class="pdp-carousel-slide__thumb-title">AR View</span>\n                    <span class="pdp-carousel-slide__thumb-label">New</span>\n                </div>\n            ':"","\n                            ").concat('\n                <div class="pdp-carousel-slide__thumb-button">\n                    <span class="pdp-carousel-slide__thumb-icon pdp-carousel-slide__thumb-icon--360" aria-hidden="true"></span>\n                    <span class="pdp-carousel-slide__thumb-title">360 View</span>\n                </div>\n            ',"\n                            \n                        </div>\n                    ")),s=!1),r&&!l){var f=n.thumbnail?'<img src="'.concat(n.thumbnail,'" />'):"",m=t.data.resources.video_label,v=t.data.resources.video_icon_url;l=!0,i.appendSlide('\n                        <div class="swiper-slide pdp-carousel-slide__thumb">\n                            <div class="pdp-carousel-slide__thumb-content pdp-carousel-slide__thumb-content--video">\n                                '.concat(f,'\n                                <div class="video-wrapper">\n                                    <div class="video-label vwo-hidethumbs">\n                                        <span class="icon icon-video">\n                                            <img src="').concat(v,'" alt="').concat(e.productName," | ").concat(e.primaryCategoryName,' | ScS" />\n                                        </span>\n                                        ').concat(m,'\n                                    </div>\n                                    <div class="video-label vwo-hidespans">\n                                        <span>&#9654;</span>\n                                        <span>Watch Video</span>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            ').concat(h,"\n                            \n                        </div>\n                    "))}}else if(r&&p==d&&!l){var g=n.thumbnail?'<img src="'.concat(n.thumbnail,'" />'):"",$=t.data.resources.video_label,b=t.data.resources.video_icon_url;i.appendSlide('\n                    <div class="swiper-slide pdp-carousel-slide__thumb">\n                        <div class="pdp-carousel-slide__thumb-content pdp-carousel-slide__thumb-content--video">\n                            '.concat(g,'\n                            <div class="video-wrapper">\n                                <div class="video-label vwo-hidethumbs">\n                                    <span class="icon icon-video>\n                                        <img src="').concat(b,'" alt="').concat($,'" />\n                                    </span>\n                                    ').concat($,'\n                                </div>\n                                <div class="video-label vwo-hidespans">\n                                    <span>&#9654;</span>\n                                    <span>Watch Video</span>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        ').concat(h,"\n                        \n                    </div>\n                "))}})),i.update()}a.removeAllSlides();var d=!0,u=!0,p=!1;o.large.forEach((function(o){var i=3,c=o.url.split("_"),s=c[c.length-1].split(".")[0],l=$(".js-pdp-carousel").data("pdp-legal-disclaimer");d&&3==s&&(i=4),d=!1,l&&s>=i?a.appendSlide('\n                <div class="swiper-slide pdp-carousel-slide">\n                    <div class="pdp-carousel-slide__content">\n                        <div class="pdp-legal-disclaimer '.concat(t.data.product.brandRibbonContent?"ld-brand-ribbon":"",'">\n                            <div>').concat(l,'</div>\n                        </div>\n                        <picture>\n                            <source class="lozad" media="(min-width:').concat(o.DESKTOP.screenSize,'px)" \n                                    data-srcset="').concat(o.DESKTOP.url,'" srcset="').concat(o.lazyUrl,'">\n                            <source class="lozad" media="(min-width:').concat(o.TABLET.screenSize,'px)" \n                                    data-srcset="').concat(o.TABLET.url,'" srcset="').concat(o.lazyUrl,'">\n                            <source class="lozad" media="(min-width:').concat(o.LARGE_MOBILE.screenSize,'px)" \n                                    data-srcset="').concat(o.LARGE_MOBILE.url,'" srcset="').concat(o.lazyUrl,'">\n                            <img class="lozad" src="').concat(o.lazyUrl,'" \n                            data-src="').concat(o.MOBILE.url,'"\n                            alt="').concat(e.productName," | ").concat(e.primaryCategoryName,' | ScS"\n                            itemprop="image"\n                            />\n                        </picture>\n                    </div>\n                </div>\n            ')):t.data.magicZoomEnable&&e.activateImageZoom&&s<i?a.appendSlide('\n                <div class="swiper-slide pdp-carousel-slide">\n                    <div class="pdp-carousel-slide__content">\n                        <picture>\n                            <a href="'.concat(o.urlOriginal,'" class="MagicZoom" data-options="autostart: false; zoomPosition: inner; lazyZoom: true">\n                                <img class="lozad" src="').concat(o.lazyUrl,'" \n                                data-src="').concat(o.DESKTOP.url,'"\n                                alt="').concat(e.productName," | ").concat(e.primaryCategoryName,' | ScS"\n                                itemprop="image"\n                                />\n                            </a>\n                        </picture>\n                    </div>\n                </div>\n                ')):a.appendSlide('\n                <div class="swiper-slide pdp-carousel-slide">\n                    <div class="pdp-carousel-slide__content">\n                        <picture>\n                            <source class="lozad" media="(min-width:'.concat(o.DESKTOP.screenSize,'px)" \n                                    data-srcset="').concat(o.DESKTOP.url,'" srcset="').concat(o.lazyUrl,'">\n                            <source class="lozad" media="(min-width:').concat(o.TABLET.screenSize,'px)" \n                                    data-srcset="').concat(o.TABLET.url,'" srcset="').concat(o.lazyUrl,'">\n                            <source class="lozad" media="(min-width:').concat(o.LARGE_MOBILE.screenSize,'px)" \n                                    data-srcset="').concat(o.LARGE_MOBILE.url,'" srcset="').concat(o.lazyUrl,'">\n                            <img class="lozad" src="').concat(o.lazyUrl,'" \n                            data-src="').concat(o.MOBILE.url,'"\n                            alt="').concat(e.productName," | ").concat(e.primaryCategoryName,' | ScS"\n                            itemprop="image"\n                            />\n                        </picture>\n                    </div>\n                </div>\n                ')),t.data.sketchfabEnable&&t.data.product.sketchfabID&&s==i-1&&u?(u=!1,a.appendSlide('\n            <div class="swiper-slide pdp-carousel-slide js-sketchfab-content">\n                <div class="pdp-carousel-slide__content">\n\n                    <div class="sketchfab-container" id="sketchfab-container" data-varient="'.concat(t.data.product.id,'" data-id="').concat(t.data.product.sketchfabID,'">\n                        <div class="iframe-container">\n                            <iframe src="" id="api-frame"></iframe>\n                        </div>\n                    </div>\n                \n                </div>\n            </div>\n            ')),r&&!p&&(p=!0,a.appendSlide('\n                    <div \n                        class="swiper-slide pdp-carousel-slide pdp-carousel-slide-video pdp-carousel-slide__content--video"\n                        data-url="'.concat(n.url,'"\n                        data-pid="').concat("video_"+t.data.product.id,'"\n                        id="').concat("video_"+t.data.product.id,'">\n                    </div>\n                ')))):r&&s==i-1&&!p&&a.appendSlide('\n                <div \n                    class="swiper-slide pdp-carousel-slide pdp-carousel-slide-video pdp-carousel-slide__content--video"\n                    data-url="'.concat(n.url,'"\n                    data-pid="').concat("video_"+t.data.product.id,'"\n                    id="').concat("video_"+t.data.product.id,'">\n                </div>\n            '))})),a.update(),$(document).trigger("lozadTriggerObserve"),t.data.sketchfabEnable&&e.sketchfabID&&$(document).trigger("sketchfabTriggerInit",{cb:function(t){}}),t.data.magicZoomEnable&&e.activateImageZoom&&$(document).trigger("magicZoom:refresh")}(e)})),window.matchMedia("(max-width: 768px)").matches&&($(".swiper-container-thumbs .swiper-wrapper .swiper-slide .sketchfab-thumb-overlay").parent().parent().on("click",(function(){return $("html, body").animate({scrollTop:0},"fast"),!1})),$(".swiper-container-thumbs .swiper-wrapper .swiper-slide .pdp-carousel-slide__thumb-content--video").parent().on("click",(function(){return $("html, body").animate({scrollTop:0},"fast"),!1})))},128:function(t,e,o){"use strict";t.exports={init:function(){var t=$(".js-swatch-gallery");t.length&&t.each((function(t,e){var o,a,i;o=$(e),a=o.find(".js-swatch-gallery-show-all"),i=o.find(".js-swatch-gallery-show-less"),o.find(".js-swatch-gallery-item:hidden").length>0&&(a.on("click",(function(t){t.preventDefault(),o.addClass("expanded"),a.hide(),i.show()})),i.on("click",(function(t){t.preventDefault(),o.removeClass("expanded"),i.hide(),a.show()})),i.hide(),a.show())}))}}},129:function(t,e,o){"use strict";t.exports={init:function(){var t=$(".js-pdp-section-heading");t.length>0&&t.each((function(t,e){var o;0===(o=$(e)).length&&0===o.next(".js-pdp-section-content").length||(o.addClass("is-expandable"),o.on("click",(function(){o.toggleClass("expanded")})))}))}}},13:function(t,e,o){"use strict";var a={scrollBrowserConsiderHeader:function(t,e){t instanceof $&&(t=t.offset().top),this.scrollBrowser(t-$(".js-sticky_header").height(),e)},scrollBrowser:function(t){$("html, body").animate({scrollTop:t},500)},isMobile:function(){for(var t=["mobile","tablet","phone","ipad","ipod","android","blackberry","windows ce","opera mini","palm"],e=0,o=!1,a=navigator.userAgent.toLowerCase();t[e]&&!o;)o=a.indexOf(t[e])>=0,e++;return o},getWithExpiry:function(t){var e=localStorage.getItem(t);if(!e)return null;var o=JSON.parse(e);return(new Date).getTime()>o.expiry?(localStorage.removeItem(t),null):o.value},setWithExpiry:function(t,e,o){var a={value:e,expiry:(new Date).getTime()+o};localStorage.setItem(t,JSON.stringify(a))}};t.exports=a},130:function(t,e,o){"use strict";var a=o(3);function i(t,e){var o=$(".js-product-summary");t=function(t){var e=$(".js-product-detail-actions .js-pdp-primary-action"),o=$(".js-site-header"),a=$(".page-pdp"),i=e.offset().top,n=a.offset().top+a.outerHeight()-100,r=$(window).scrollTop();return t&&(r+=o.outerHeight()),i+e.outerHeight(!0)<r&&n>r}(a.isSmallDeviceView()||a.isMobileView());o.toggleClass("is-sticky",t),$(".page-pdp").toggleClass("has-sticky",t)}$(window).on("scroll",i),i()},131:function(t,e,o){"use strict";$("#financeModal").length>0&&o(10).init(),$(".js-product-detail-actions .js-finance-monthly-cost").length>0&&$("body").on("product:afterAttributeSelect",(function(t,e){var o=e.data.product,a=e.container,i=a?a.find(".js-finance-monthly-cost"):[];i.length>0&&o&&o.finance&&i.text(o.finance.monthlyPayment.formattedValue)})),$("#financeModal").on("show.bs.modal",(function(t){var e=$(this);e.find(".js-finance-widget").empty();var o=$(".js-btn-finance-calculator"),a=o.data("url"),i={pid:o.attr("data-pid")};$.ajax({url:a,type:"get",dataType:"html",data:i,success:function(t){e.find(".js-finance-widget").html(t),$(document).trigger("initFinance");var o=e.find(".trustpilot-widget");o.length&&window.Trustpilot.loadFromElement(o.get(0))},error:function(){e.find(".close").trigger("click")}})}))},132:function(t,e,o){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return c=t.done,t},e:function(t){s=!0,r=t},f:function(){try{c||null==o.return||o.return()}finally{if(s)throw r}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}function r(){r=function(t,e){return new o(t,void 0,e)};var t=RegExp.prototype,e=new WeakMap;function o(t,a,i){var n=new RegExp(t,a);return e.set(n,i||e.get(t)),s(n,o.prototype)}function i(t,o){var a=e.get(o);return Object.keys(a).reduce((function(e,o){var i=a[o];if("number"==typeof i)e[o]=t[i];else{for(var n=0;void 0===t[i[n]]&&n+1<i.length;)n++;e[o]=t[i[n]]}return e}),Object.create(null))}return c(o,RegExp),o.prototype.exec=function(e){var o=t.exec.call(this,e);if(o){o.groups=i(o,this);var a=o.indices;a&&(a.groups=i(a,this))}return o},o.prototype[Symbol.replace]=function(o,n){if("string"==typeof n){var r=e.get(this);return t[Symbol.replace].call(this,o,n.replace(/\$<([^>]+)>/g,(function(t,e){var o=r[e];return"$"+(Array.isArray(o)?o.join("$"):o)})))}if("function"==typeof n){var c=this;return t[Symbol.replace].call(this,o,(function(){var t=arguments;return"object"!=a(t[t.length-1])&&(t=[].slice.call(t)).push(i(t,c)),n.apply(this,t)}))}return t[Symbol.replace].call(this,o,n)},r.apply(this,arguments)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e,o=document.getElementById("sketchfab-container"),a=o.getAttribute("data-id"),n=document.getElementById("api-frame");window.SketchfabClient=new window.Sketchfab("1.8.2",n);var c={},s=[],l=""+o.getAttribute("data-varient").split("_").slice(2),u=""+o.getAttribute("data-varient").split("_").slice(1,2);SketchfabClient.init(a,{annotation:0,annotations_visible:1,autospin:0,autostart:1,cardboard:0,camera:1,preload:0,ui_stop:0,transparent:0,ui_animations:0,ui_annotations:0,ui_controls:1,ui_fullscreen:1,ui_general_controls:1,ui_help:1,ui_hint:1,ui_infos:0,ui_inspector:0,ui_settings:0,ui_vr:0,ui_ar:1,ui_watermark_link:0,ui_color:"00a8c0",ui_watermark:0,success:function(o){(e=o).start(),e.addEventListener("viewerready",(function(){e.getMaterialList((function(t,o){var a,n,d,p,h=r(/^(Object|Material)_([A-Z0-9])_?(.+)?/,{type:1,object:2,material_name:3}),f=i(o);try{for(f.s();!(a=f.n()).done;){var m=a.value;try{var v=m.name.match(h);if(v){var g=v.groups;switch(g.type){case"Object":c[g.object]={name:g.object,material:m,swatches:{}};break;case"Material":s.push({name:g.material_name,material:m,object:g.object})}}}catch(t){console.log("error getting material from Sketchfab",t.stack)}}}catch(t){f.e(t)}finally{f.f()}for(var b=0,y=s;b<y.length;b++){var w=y[b];try{w.object&&c[w.object]&&(c[w.object].swatches[w.name]=w,w.name!==l&&w.name!==u||(n=w.name,d=w.object,p=void 0,(p=c[d].material).channels=c[d].swatches[n].material.channels,e.setMaterial(p,(function(t){}))))}catch(t){console.log("error getting object from Sketchfab",t.stack)}}$("body").on("touchstart touchend touchmove pointerdown pointerup","#js-start-ar",(function(t){e.startAR((function(t){t&&console.warn("SketchFab API error:",t)}))})),window.StartARpressed&&(e.startAR((function(t){t&&console.warn("SketchFab API error:",t)})),window.StartARpressed=!1)}))})),t(!0)},error:function(e){console.error("Sketchfab API error:",e),t(!1)}}),d()}function d(){var t=$("#sketchfab-container").width();$("#sketchfab-container").height(.6349397590361446*t)}t.exports={init:function(){$("body").on("touchstart touchend touchmove pointerdown pointerup","#js-start-ar",(function(t){window.StartARpressed=!0})),$(document).on("sketchfabTriggerInit",(function(t,e){if(document.getElementById("sketchfab-container")){var o=$("#api-frame").attr("src");if(window.Sketchfab)window.SketchfabClient&&o||l(e.cb);else{var a=document.createElement("script");a.src=window.SitePreferences.sketchfabApiUrl,a.onload=function(){l(e.cb)},document.body.appendChild(a)}}})),$(window).on("resize",(function(){document.getElementById("sketchfab-container")&&d()}))}}},133:function(t,e,o){"use strict";function a(){$("body").on("click",'a[class^="tab-"]',(function(t){t.preventDefault(),$('a[class^="tab-"]').removeClass("active"),$(this).addClass("active");var e=$(this).attr("id");$(".inspration-content").addClass("d-none"),$("#"+e+"-content").removeClass("d-none"),c()})),$('a[class^="tab-"]:visible:first').trigger("click")}function i(){$(".recommendations").each((function(){$(this).find(".content").length<=0?$(this).addClass("d-none"):$(this).removeClass("d-none"),$(this).find(".inspration-content .content").length>0&&$(this).find(".inspration-content").each((function(){var t=$("#"+$(this).attr("id").replace("-content",""));$(this).find(".content").length<=0?(t.addClass("d-none"),$(this).addClass("d-none")):t.removeClass("d-none")})),c()}))}var n,r=window.matchMedia("(min-width: 992px)"),c=function(){Array.isArray(n)&&n.length>0?$.each(n,(function(t,e){e.destroy&&e.destroy(!0,!0)})):n&&n.destroy&&n.destroy(!0,!0),r.matches||(n=new Swiper(".js-pdp-recommendations-carousel",{direction:"horizontal",slidesPerView:2,slidesPerGroup:2,breakpoints:{600:{slidesPerView:1,slidesPerGroup:1}},spaceBetween:10,pagination:{el:".pdp-recommendations_pagination",clickable:!0}}))};t.exports={init:function(){$(document).on("initRecommendations",i),$(document).on("initInspirationTabsEvent",a),r.addListener(c);var t=$(".recommendations");t.find(".content").length>0&&i(),t.find(".inspration-content .content").length>0&&a()}}},134:function(t,e,o){"use strict";function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var a,i,n,r,c=[],s=!0,l=!1;try{if(n=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;s=!1}else for(;!(s=(a=n.call(o)).done)&&(c.push(a.value),c.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=o.return&&(r=o.return(),Object(r)!==r))return}finally{if(l)throw i}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}var n=o(20),r=o(13),c=".js-search-stores-block",s=".js-stores-container",l=".js-view-more",d=".js-stores-change-location",u=".js-search-stores-field";function p(t,e){var o=t;return o+=(-1!==o.indexOf("?")?"&":"?")+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function h(t,e){var o=t.find("input").val();o&&n.getAddressLocation(o).done((function(a){var i={lat:a.location.lat,long:a.location.long,pid:e,radius:300,searchTerm:o},n=p(t.attr("action"),i);t.spinner().start(),$.ajax({url:n,method:"GET",dataType:"json",success:function(e){if(e.stores&&e.stores.length){$(s).empty().append(e.storesPDPResultsHtml),$(s).find(".js-search-postalcode").html(o),$(c).addClass("stores-show");var a=$(l),i=a.attr("href");i=p(i,{searchKey:o,horizontalView:t.data("horizontalview"),isForm:t.data("isform"),radius:t.data("radius"),showMap:t.data("showmap"),storeCount:t.data("storecount"),lat:e.lat,long:e.long}),a.attr("href",i),$(d).attr("data-url",e.resetUrl);var n=$(s).html();r.setWithExpiry("scs_stores",n,6048e5)}$.spinner().stop()},error:function(){$.spinner().stop()}})})).fail((function(t){$.spinner().stop()}))}function f(t,e){t.spinner().start();navigator.geolocation.getCurrentPosition((function(o){var i=p(t.attr("action"),{lat:o.coords.latitude,long:o.coords.longitude,pid:e,radius:300});$.ajax({url:i,method:"GET",dataType:"json",success:function(e){if(e.stores&&e.stores.length){var o=a(e.stores,1)[0];$(s).empty().append(e.storesPDPResultsHtml),$(s).find(".js-search-postalcode").html(o.postalCode),$(c).addClass("stores-show");var i=$(l),n=i.attr("href");n=p(n,{searchKey:o.postalCode,horizontalView:t.data("horizontalview"),isForm:t.data("isform"),radius:t.data("radius"),showMap:t.data("showmap"),storeCount:t.data("storecount"),lat:e.lat,long:e.long}),i.attr("href",n),$(d).attr("data-url",e.resetUrl)}$.spinner().stop()},error:function(){$.spinner().stop()}})}),(function(t){console.warn("ERROR(".concat(t.code,"): ").concat(t.message))}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}t.exports={init:function(){var t=$("form.js-search-stores"),e=t.data("pid"),o=r.getWithExpiry("scs_stores");o&&($(c).addClass("stores-show"),$(s).empty().append(o)),$(document).on("submit","form.js-search-stores",(function(o){if(o.preventDefault(),"google"in window)h(t,e);else{var a=document.createElement("script");a.onload=function(){h(t,e)},a.src=window.SitePreferences.googleMapUrl,document.body.appendChild(a)}t.find(".js-invalid-search").empty()})),$(document).on("click",d,(function(){$(c).removeClass("stores-show"),$(s).empty(),localStorage.removeItem("scs_stores")})),$(document).on("click",".js-store-geolocation",(function(o){if(o.preventDefault(),"google"in window)f(t,e);else{var a=document.createElement("script");a.onload=function(){f(t,e)},a.src=window.SitePreferences.googleMapUrl,document.body.appendChild(a)}t.find(".js-invalid-search").empty()})),"geolocation"in navigator&&t.find(".js-store-geolocation").removeClass("d-none"),t.find("input").on("invalid",(function(){var t=$(this),e=t.parents(".input-group").find(".invalid-feedback").html();t.parents("form").find(".js-invalid-search").show().html(e)})),t.find(u).on("keyup blur",(function(t){t.target.value&&(t.target.value=t.target.value.toUpperCase())}))}}},135:function(t,e){function o(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return c=t.done,t},e:function(t){s=!0,r=t},f:function(){try{c||null==o.return||o.return()}finally{if(s)throw r}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}$(document).ready((function(){$("body").on("click",".bv-content-product-stats-item",(function(t){var e=$(t.currentTarget).find("[data-content-type]");if(e.length){var o=e.data("content-type");"question"===o&&($("#qa-tab").trigger("click"),$("#qa-tab").get(0).scrollIntoView()),"review"===o&&($("#reviews-tab").trigger("click"),$("#reviews-tab").get(0).scrollIntoView())}}));var t=document.querySelector('[data-bv-show="reviews"]');if(t){new MutationObserver((function(t,e){var a,i=o(t);try{for(i.s();!(a=i.n()).done;){if("childList"===a.value.type){var n=$(".bv-content-product-stats-item");n.length&&n.each((function(t,e){var o=$(e);o.hasClass("bv-content-product-stats-item-reviews")&&o.removeClass("bv-content-product-stats-item-reviews"),o.hasClass("bv-content-product-stats-item-questions")&&o.removeClass("bv-content-product-stats-item-questions"),o.hasClass("bv-content-product-stats-item-answers")&&o.removeClass("bv-content-product-stats-item-answers")}))}}}catch(t){i.e(t)}finally{i.f()}})).observe(t,{attributes:!1,childList:!0,subtree:!0})}}))},136:function(t,e,o){"use strict";t.exports=function(){$(".page-pdp .search-mobile").each((function(){var t=$(".site-header"),e=$(".page > .main-content");e.length?e.before(this):t.append(this)}))}},137:function(t,e,o){"use strict";t.exports=function(){window.matchMedia("(min-width: 769px)").matches&&$(".vwo-pdp-links .phone").on("click",(function(t){t.preventDefault(),$(".vwo-pdp-links .hide-phone").show()}))}},138:function(t,e,o){"use strict";t.exports=function(){$(".page-pdp").length&&window.matchMedia("(max-width: 768px)").matches&&$(window).on("scroll",(function(){$(window).scrollTop()>1.5*$(window).height()?($(".gis-placeholder").removeClass("vwogisfadeOut"),$(".gis-placeholder").addClass("vwogisfadein")):$(".gis-placeholder").hasClass("vwogisfadein")&&($(".gis-placeholder").removeClass("vwogisfadein"),$(".gis-placeholder").addClass("vwogisfadeOut"),setTimeout((function(){$(".gis-placeholder").hasClass("vwogisfadeOut")&&$(".gis-placeholder").removeClass("vwogisfadeOut")}),1e3))}))}},19:function(t,e,o){"use strict";var a=o(5);function i(t){var e=t.find(".product-option").map((function(){var t=$(this).find(".options-select"),e=t.val(),o=t.find('option[value="'+e+'"]').data("value-id");return{optionId:$(this).data("option-id"),selectedValueId:o}})).toArray();return JSON.stringify(e)}function n(t,e){var o,a=e.parents(".choose-bonus-product-dialog").length>0;(t.product.variationAttributes&&(!function(t,e){var o=["color","customTrim"];t.forEach((function(t){o.indexOf(t.id)>-1?function(t,e){t.values.forEach((function(o){var a=e.find('[data-attr="'+t.id+'"] [data-attr-value="'+o.value+'"]'),i=a.parent();o.selected?a.addClass("selected"):a.removeClass("selected"),o.url?i.attr("href",o.url):i.removeAttr("href"),a.removeClass("selectable unselectable"),a.addClass(o.selectable?"selectable":"unselectable")}))}(t,e):function(t,e){var o='[data-attr="'+t.id+'"]';e.find(o+" .select-"+t.id+" option:first").attr("value",t.resetUrl),t.values.forEach((function(t){var a=e.find(o+' [data-attr-value="'+t.value+'"]');a.attr("value",t.url).removeAttr("disabled"),t.selectable||a.attr("disabled",!0)}))}(t,e)}))}(t.product.variationAttributes,e),o="variant"===t.product.productType,a&&o&&(e.parent(".bonus-product-item").data("pid",t.product.id),e.parent(".bonus-product-item").data("ready-to-order",t.product.readyToOrder))),t.product.images.large.forEach((function(t,o){e.find(".primary-images").find("img").eq(o).attr("src",t.url)})),a)||($(".prices .price",e).length?$(".prices .price",e):$(".prices .price")).replaceWith(t.product.price.html);($(".promotions").empty().html(function(t){if(!t)return"";var e="";return t.forEach((function(t){e+='<div class="callout" title="'+t.details+'">'+t.calloutMsg+"</div>"})),e}(t.product.promotions)),function(t,e){var o="",a=t.product.availability.messages;t.product.readyToOrder?a.forEach((function(t){o+="<div>"+t+"</div>"})):o="<div>"+t.resources.info_selectforstock+"</div>";$(e).trigger("product:updateAvailability",{product:t.product,$productContainer:e,message:o,resources:t.resources})}(t,e),a)?e.find(".select-bonus-product").trigger("bonusproduct:updateSelectButton",{product:t.product,$productContainer:e}):$("button.add-to-cart, button.add-to-cart-global, button.update-cart-product-global").trigger("product:updateAddToCart",{product:t.product,$productContainer:e}).trigger("product:statusUpdate",t.product);e.find(".main-attributes").empty().html(function(t){if(!t)return"";var e="";return t.forEach((function(t){"mainAttributes"===t.ID&&t.attributes.forEach((function(t){e+='<div class="attribute-values">'+t.label+": "+t.value+"</div>"}))})),e}(t.product.attributes)),t.product.isHullabalookEnabled?$("#hulla").show():$("#hulla").hide(),e.find(".js-prices").toggleClass("sale-promo-active",!!t.product.price.voucherPromo),e.find(".js-prices").toggleClass("sale-promo-tag-active",!!t.product.price.voucherPromo&&!!t.product.customThirdContentTag)}function r(t,e){if(!(e.parent(".bonus-product-item").length>0)){var o=t.map((function(t){var e=t.selected?" selected ":"";return'<option value="'+t.value+'"  data-url="'+t.url+'"'+e+">"+t.value+"</option>"})).join("");(a=e,a&&$(".set-items").length?$(a).closest(".product-detail").find(".quantity-select"):$(".quantity-select")).empty().html(o)}var a}a.addToCart=function(){$(document).on("click","button.add-to-cart, button.add-to-cart-global",(function(){var t,e,o,n,r;$("body").trigger("product:beforeAddToCart",this),$(".set-items").length&&$(this).hasClass("add-to-cart-global")&&(n=[],$(".product-detail").each((function(){$(this).hasClass("product-set-detail")||n.push({pid:$(this).find(".product-id").text(),qty:$(this).find(".quantity-select").val(),options:i($(this))})})),o=JSON.stringify(n)),r=$(this),e=$("#quickViewModal").hasClass("show")&&!$(".product-set").length?$(r).closest(".modal-content").find(".product-quickview").data("pid"):$(".product-set-detail").length||$(".product-set").length?$(r).closest(".product-detail").find(".product-id").text():$('.product-detail:not(".bundle-item")').data("pid");var c=$(this).closest(".product-detail");c.length||(c=$(this).closest(".quick-view-dialog").find(".product-detail")),t=$(".add-to-cart-url").val();var s,l={pid:e,pidsObj:o,childProducts:(s=[],$(".bundle-item").each((function(){s.push({pid:$(this).find(".product-id").text(),quantity:parseInt($(this).find("label.quantity").data("quantity"),10)})})),s.length?JSON.stringify(s):[]),quantity:a.getQuantitySelected($(this))};if(dynamicYield)if(l.pidsObj)for(var d=0;d<n.length;d++)dynamicYield.callEvent("setAddedItem",{productId:n[d].pid,quantity:n[d].qty});else dynamicYield.callEvent("setAddedItem",{productId:l.pid,quantity:l.quantity});$(".bundle-item").length||(l.options=i(c)),$(this).trigger("updateAddToCartFormData",l),t&&$.ajax({url:t,method:"POST",data:l,success:function(t){if(function(t){$(".minicart").trigger("count:update",t);var e=t.error?"alert-danger":"alert-success";t.newBonusDiscountLineItem&&0!==Object.keys(t.newBonusDiscountLineItem).length?chooseBonusProducts(t.newBonusDiscountLineItem):(0===$(".add-to-cart-messages").length&&$("body").append('<div class="add-to-cart-messages"></div>'),$(".add-to-cart-messages").append('<div class="alert '+e+' add-to-basket-alert text-center" role="alert">'+t.message+"</div>"),setTimeout((function(){$(".add-to-basket-alert").remove()}),5e3))}(t),$("body").trigger("product:afterAddToCart",t),$.spinner().stop(),dynamicYield)if(l.pidsObj)for(var e=0;e<n.length;e++)dynamicYield.callEvent("Add to Cart",{productId:n[e].pid,quantity:n[e].qty});else dynamicYield.callEvent("Add to Cart",{productId:l.pid,quantity:l.quantity});t.cart.isItemInWishList&&$(".js-pdp-primary-action").find(".js-wishlist-heart").trigger("click")},error:function(){$.spinner().stop()}})}))},a.attributeSelect=function(t,e){t&&($("body").trigger("product:beforeAttributeSelect",{url:t,container:e}),$.ajax({url:t,method:"GET",success:function(t){n(t,e),function(t,e){t.forEach((function(t){var o=e.find('.product-option[data-option-id*="'+t.id+'"]');t.values.forEach((function(t){o.find('option[data-value-id*="'+t.id+'"]').val(t.url)}))}))}(t.product.options,e),r(t.product.quantities,e),$("body").trigger("product:afterAttributeSelect",{data:t,container:e}),$.spinner().stop()},error:function(){$.spinner().stop()}}))},a.colorAttribute=function(){$(document).on("click",'[data-attr="color"] a',(function(t){if(t.preventDefault(),!$(this).attr("disabled")){var e=$(this).closest(".set-item"),o=$(this).parents(".js-product-attribute-picker-item");e.length||(e=$(this).closest(".product-detail")),dynamicYield&&o&&dynamicYield.callEvent("Change Attribute",{type:o.data("type"),value:o.data("value")}),a.attributeSelect(t.currentTarget.href,e)}}))},a.selectAttribute=function(){$(document).on("change",'select[class*="select-"], .options-select',(function(t){t.preventDefault();var e=$(this).closest(".set-item");e.length||(e=$(this).closest(".product-detail")),a.attributeSelect(t.currentTarget.value,e)}))},t.exports=a},2:function(t,e,o){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){"function"==typeof t?t():"object"===a(t)&&Object.keys(t).forEach((function(e){"function"==typeof t[e]&&t[e]()}))}},20:function(t,e,o){"use strict";function a(t){return e={address:t},o=new google.maps.Geocoder,a=new google.maps.LatLng(60,3),i=new google.maps.LatLng(49,-13),n=$.Deferred(),r=$.extend({},{language:"en-GB",bounds:new google.maps.LatLngBounds(i,a),componentRestrictions:{}},e),o.geocode(r,(function(t,e){var o=google.maps.GeocoderStatus,a=e===o.OK||e===o.ZERO_RESULTS;n[a?"resolve":"reject"](t)})),n;var e,o,a,i,n,r}t.exports={getAddressLocation:function(t){var e=$.Deferred();return t?a(t+" UK").then((function(e){return e&&e.length?e:a(t)})).done((function(t){t?e.resolve({location:{lat:t[0].geometry.location.lat(),long:t[0].geometry.location.lng()}}):e.reject(t)})).fail((function(t){e.reject(null)})):e.reject(null),e},getCurrentLocation:function(){var t=$.Deferred();return navigator.geolocation.getCurrentPosition((function(e){t.resolve({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(function(e){t.reject(e)}),{enableHighAccuracy:!0,maximumAge:0,timeout:3e4}),t}}},28:function(t,e,o){"use strict";var a=o(29),i=o(19);function n(){$(".js-pdp-range-recomendation .js-recomm-item").length>5&&$(".js-pdp-range-recomendation .js-range-more").show()}t.exports={initRangeRecommendation:function(){n(),$(".js-pdp-range-recomendation").on("click",".js-range-more",(function(t){t.preventDefault(),$(".js-pdp-range-recomendation > .product-range").addClass("show-all")})),$("body").on("product:afterAttributeSelect",(function(t,e){var o=$(".js-pdp-range-recomendation"),a=e&&e.data&&e.data.updateRangeUrl?e.data.updateRangeUrl:null;o.length>0&&a&&$.ajax({url:a,method:"GET",success:function(t){t&&(o.empty().append(t),n(),$(document).trigger("lozadTriggerObserve"))}})}))},handleRecommendationAddToCart:function(){$("body").on("click",".js-recomm-add-to-cart",(function(){var t=$(this).closest(".js-recomm-action"),e=t.data("pid"),o=t.find(".add-to-cart-url").val(),a=t.find(".add-to-cart-quantity").val(),i=$(this).data("product-ga-data");t.closest(".js-recomm-item").spinner().start(),$("body").trigger("product:upsell:beforeAddToCart",this);var n={pid:e,quantity:a};o&&$.ajax({url:o,method:"POST",data:n,success:function(e){i&&(i.quantity=1,$("body").trigger("gaAddToCart",i),e.isRecommendation=!0),$(".minicart").trigger("count:update",e),t.closest(".js-recomm-item").hasClass("upsell-item")?(!function(t){var e=$(".add-to-cart-confirmation").find(".added-item"),o=t&&t.addedToCartHtml?$(t.addedToCartHtml).find(".added-item"):null;0!==e.length&&0!==o.length&&e.fadeOut(150,(function(){o.hide(),e.replaceWith(o),o.trigger("refreshCountdownTimers",".js-added-item-countdown .js-count-down-timer"),o.fadeIn(150)}))}(e),$("body").trigger("product:recomm:afterAddToCart",e)):$("body").trigger("product:afterAddToCart",e),$.spinner().stop()},error:function(){$.spinner().stop()}})}))},handleAfterAddToCart:function(){$("body").on("product:afterAddToCart",(function(t,e){if(e.addedToCartHtml){0===$(".add-to-cart-confirmation").length&&$("<div></div>").addClass("add-to-cart-confirmation").appendTo("body");var o=$(".add-to-cart-confirmation");o.empty().html(e.addedToCartHtml),o.show(),$("html").addClass("added-to-cart-is-active"),function(t){if(t&&0!==t.length&&0!==t.find(".added-to-cart__recommendation").length){var e=t.find(".added-to-cart__recommendation"),o=e.data("url");$.ajax({url:o,method:"GET",success:function(t){e.empty().append(t)}})}}(o),$("body").trigger("refreshCountdownTimers",".js-added-item-countdown .js-count-down-timer"),o.on("click",".js-btn-close",(function(t){t.preventDefault(),o.hide(),$("html").removeClass("added-to-cart-is-active")})),o.on("click",".added-to-cart__overlay",(function(t){o.hide(),$("html").removeClass("added-to-cart-is-active")}))}}))},setupSocialSharing:function(){$(".js-social-toggle").on("click",(function(){$(".js-social").addClass("pdp-social--active")}))},handleAddonUpsellPackages:function(){$(document).on("click",".js-addon-package",(function(t){t.preventDefault();var e=$(t.currentTarget);if(!e.hasClass("added")){e.hide(),e.parents(".js-addon-container").find(".js-addon-description").hide();var o=e.parents(".js-addon-container");if(o.find(".js-addons-checkboxes-container").show(),e.parents(".js-addon-container").find("input").toArray().every((function(t){return t.checked}))){var a=e.data("pids");$(".added-item").spinner().start();var i={pids:a};$.ajax({url:window.Urls.addUpsellProduct,method:"POST",data:i,success:function(t){o.find(".js-addons-checkboxes-container").hide(),o.find(".js-success").addClass("active"),e.addClass("added").show().html("Added"),$.spinner().stop()},error:function(t){$.spinner().stop()}})}}})),$(document).on("click",".js-whats",(function(t){$(t.target).parents(".js-addon-container").find(".js-addon-description").toggle()})),$(document).on("click",".js-addon-term",(function(t){$(t.target).parents(".js-addon-container").find(".js-addon-package").trigger("click")}))},availability:i.availability,addToCart:i.addToCart,updateAttributesAndDetails:a.updateAttributesAndDetails,showSpinner:a.showSpinner,updateAttribute:a.updateAttribute,updateAddToCart:a.updateAddToCart,updateAvailability:a.updateAvailability,sizeChart:a.sizeChart}},29:function(t,e,o){"use strict";var a=o(5);t.exports={methods:{updateAddToCartEnableDisableOtherElements:function(t){$("button.add-to-cart-global").attr("disabled",t)}},availability:a.availability,addToCart:a.addToCart,updateAttributesAndDetails:function(){$("body").on("product:statusUpdate",(function(t,e){var o=$('.product-detail[data-pid="'+e.id+'"]');o.find(".description-and-detail .product-attributes").empty().html(e.attributesHtml),e.shortDescription?(o.find(".description-and-detail .description").removeClass("hidden-xl-down"),o.find(".description-and-detail .description .content").empty().html(e.shortDescription)):o.find(".description-and-detail .description").addClass("hidden-xl-down"),e.longDescription?(o.find(".description-and-detail .details").removeClass("hidden-xl-down"),o.find(".description-and-detail .details .content").empty().html(e.longDescription)):o.find(".description-and-detail .details").addClass("hidden-xl-down")}))},showSpinner:function(){$("body").on("product:beforeAddToCart product:beforeAttributeSelect",(function(){$.spinner().start()}))},updateAttribute:function(){$("body").on("product:afterAttributeSelect",(function(t,e){$(".product-detail>.bundle-items").length||$(".product-set-detail").eq(0)?(e.container.data("pid",e.data.product.id),e.container.find(".product-id").text(e.data.product.id)):($(".product-id").text(e.data.product.id),$('.product-detail:not(".bundle-item")').data("pid",e.data.product.id))}))},updateAddToCart:function(){$("body").on("product:updateAddToCart",(function(e,o){$("button.add-to-cart",o.$productContainer).attr("disabled",!o.product.readyToOrder||!o.product.available);var a=$(".product-availability").toArray().every((function(t){return $(t).data("available")&&$(t).data("ready-to-order")}));t.exports.methods.updateAddToCartEnableDisableOtherElements(!a)}))},updateAvailability:function(){$("body").on("product:updateAvailability",(function(t,e){if($("div.availability",e.$productContainer).data("ready-to-order",e.product.readyToOrder).data("available",e.product.available),$(".availability-msg",e.$productContainer).empty().html(e.message),$(".global-availability").length){var o=$(".product-availability").toArray().every((function(t){return $(t).data("available")})),a=$(".product-availability").toArray().every((function(t){return $(t).data("ready-to-order")}));$(".global-availability").data("ready-to-order",a).data("available",o),$(".global-availability .availability-msg").empty().html(a?e.message:e.resources.info_selectforstock)}}))},sizeChart:function(){$(".size-chart a").on("click",(function(t){t.preventDefault();var e=$(this).attr("href"),o=$(this).closest(".size-chart").find(".size-chart-collapsible");o.is(":empty")&&$.ajax({url:e,type:"get",dataType:"json",success:function(t){o.append(t.content)}}),o.toggleClass("active")}));var t=$(".size-chart-collapsible");$("body").on("click touchstart",(function(e){$(".size-chart").has(e.target).length<=0&&t.removeClass("active")}))},copyProductLink:function(){$("body").on("click","#fa-link",(function(){event.preventDefault();var t=$("<input>");$("body").append(t),t.val($("#shareUrl").val()).select(),document.execCommand("copy"),t.remove(),$(".copy-link-message").attr("role","alert"),$(".copy-link-message").removeClass("d-none"),setTimeout((function(){$(".copy-link-message").addClass("d-none")}),3e3)}))},focusChooseBonusProductModal:a.focusChooseBonusProductModal()}},3:function(t,e){function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var a,i,n,r,c=[],s=!0,l=!1;try{if(n=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;s=!1}else for(;!(s=(a=n.call(o)).done)&&(c.push(a.value),c.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=o.return&&(r=o.return(),Object(r)!==r))return}finally{if(l)throw i}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}var i=[["small-device","(max-width: ".concat(479,"px)")],["mobile","(max-width: ".concat(767,"px)")],["tablet","(min-width: ".concat(768,"px) and (max-width: ").concat(921,"px)")],["desktop","(min-width: ".concat(922,"px)")]],n=function(){var t=i.filter((function(t){var e=o(t,2)[1];return window.matchMedia(e).matches}))[0];return t&&t[0]};t.exports={isSmallDeviceView:function(){return"small-device"===n()},isMobileView:function(){return"mobile"===n()},isTabletView:function(){return"tablet"===n()},isDesktopView:function(){return"desktop"===n()}}},5:function(t,e,o){"use strict";var a=o(6);function i(t){return $("#quickViewModal").hasClass("show")&&!$(".product-set").length?$(t).closest(".modal-content").find(".product-quickview").data("pid"):$(".product-set-detail").length||$(".product-set").length?$(t).closest(".product-detail").find(".product-id").text():$('.product-detail:not(".bundle-item")').data("pid")}function n(t){var e;if(t&&$(".set-items").length)e=$(t).closest(".product-detail").find(".quantity-select");else if(t&&$(".product-bundle").length){var o=$(t).closest(".modal-footer").find(".quantity-select"),a=$(t).closest(".bundle-footer").find(".quantity-select");e=void 0===o.val()?a:o}else e=$(".quantity-select");return e}function r(t){return n(t).val()}function c(t,e){var o,a=e.parents(".choose-bonus-product-dialog").length>0;(t.product.variationAttributes&&(!function(t,e,o){var a=["color"];t.forEach((function(t){a.indexOf(t.id)>-1?function(t,e,o){t.values.forEach((function(a){var i=e.find('[data-attr="'+t.id+'"] [data-attr-value="'+a.value+'"]'),n=i.parent();a.selected?(i.addClass("selected"),i.siblings(".selected-assistive-text").text(o.assistiveSelectedText)):(i.removeClass("selected"),i.siblings(".selected-assistive-text").empty()),a.url?n.attr("data-url",a.url):n.removeAttr("data-url"),i.removeClass("selectable unselectable"),i.addClass(a.selectable?"selectable":"unselectable")}))}(t,e,o):function(t,e){var o='[data-attr="'+t.id+'"]';e.find(o+" .select-"+t.id+" option:first").attr("value",t.resetUrl),t.values.forEach((function(t){var a=e.find(o+' [data-attr-value="'+t.value+'"]');a.attr("value",t.url).removeAttr("disabled"),t.selectable||a.attr("disabled",!0)}))}(t,e)}))}(t.product.variationAttributes,e,t.resources),o="variant"===t.product.productType,a&&o&&(e.parent(".bonus-product-item").data("pid",t.product.id),e.parent(".bonus-product-item").data("ready-to-order",t.product.readyToOrder))),function(t,e){var o=e.find(".carousel");$(o).carousel("dispose");var a=$(o).attr("id");$(o).empty().append('<ol class="carousel-indicators"></ol><div class="carousel-inner" role="listbox"></div><a class="carousel-control-prev" href="#'+a+'" role="button" data-slide="prev"><span class="fa icon-prev" aria-hidden="true"></span><span class="sr-only">'+$(o).data("prev")+'</span></a><a class="carousel-control-next" href="#'+a+'" role="button" data-slide="next"><span class="fa icon-next" aria-hidden="true"></span><span class="sr-only">'+$(o).data("next")+"</span></a>");for(var i=0;i<t.length;i++)$('<div class="carousel-item"><img src="'+t[i].url+'" class="d-block img-fluid" alt="'+t[i].alt+" image number "+parseInt(t[i].index,10)+'" title="'+t[i].title+'" itemprop="image" /></div>').appendTo($(o).find(".carousel-inner")),$('<li data-target="#'+a+'" data-slide-to="'+i+'" class=""></li>').appendTo($(o).find(".carousel-indicators"));$($(o).find(".carousel-item")).first().addClass("active"),$($(o).find(".carousel-indicators > li")).first().addClass("active"),1===t.length&&$($(o).find('.carousel-indicators, a[class^="carousel-control-"]')).detach(),$(o).carousel(),$($(o).find(".carousel-indicators")).attr("aria-hidden",!0)}(t.product.images.large,e),a)||($(".prices .price",e).length?$(".prices .price",e):$(".prices .price")).replaceWith(t.product.price.html);(e.find(".promotions").empty().html(t.product.promotionsHtml),function(t,e){var o="",a=t.product.availability.messages;t.product.readyToOrder?a.forEach((function(t){o+="<li><div>"+t+"</div></li>"})):o="<li><div>"+t.resources.info_selectforstock+"</div></li>",$(e).trigger("product:updateAvailability",{product:t.product,$productContainer:e,message:o,resources:t.resources})}(t,e),a)?e.find(".select-bonus-product").trigger("bonusproduct:updateSelectButton",{product:t.product,$productContainer:e}):$("button.add-to-cart, button.add-to-cart-global, button.update-cart-product-global").trigger("product:updateAddToCart",{product:t.product,$productContainer:e}).trigger("product:statusUpdate",t.product);e.find(".main-attributes").empty().html(function(t){if(!t)return"";var e="";return t.forEach((function(t){"mainAttributes"===t.ID&&t.attributes.forEach((function(t){e+='<div class="attribute-values">'+t.label+": "+t.value+"</div>"}))})),e}(t.product.attributes))}function s(t,e){t&&($("body").trigger("product:beforeAttributeSelect",{url:t,container:e}),$.ajax({url:t,method:"GET",success:function(t){c(t,e),function(t,e){e.find(".product-options").empty().html(t)}(t.product.optionsHtml,e),function(t,e){if(e.parent(".bonus-product-item").length<=0){var o=t.map((function(t){var e=t.selected?" selected ":"";return'<option value="'+t.value+'"  data-url="'+t.url+'"'+e+">"+t.value+"</option>"})).join("");n(e).empty().html(o)}}(t.product.quantities,e),$("body").trigger("product:afterAttributeSelect",{data:t,container:e}),$.spinner().stop()},error:function(){$.spinner().stop()}}))}function l(t){var e=$("<div>").append($.parseHTML(t));return{body:e.find(".choice-of-bonus-product"),footer:e.find(".modal-footer").children()}}function d(t){var e;$(".modal-body").spinner().start(),0!==$("#chooseBonusProductModal").length&&$("#chooseBonusProductModal").remove(),e=t.bonusChoiceRuleBased?t.showProductsUrlRuleBased:t.showProductsUrlListBased;var o='\x3c!-- Modal --\x3e<div class="modal fade" id="chooseBonusProductModal" tabindex="-1" role="dialog"><span class="enter-message sr-only" ></span><div class="modal-dialog choose-bonus-product-dialog" data-total-qty="'+t.maxBonusItems+'"data-UUID="'+t.uuid+'"data-pliUUID="'+t.pliUUID+'"data-addToCartUrl="'+t.addToCartUrl+'"data-pageStart="0"data-pageSize="'+t.pageSize+'"data-moreURL="'+t.showProductsUrlRuleBased+'"data-bonusChoiceRuleBased="'+t.bonusChoiceRuleBased+'">\x3c!-- Modal content--\x3e<div class="modal-content"><div class="modal-header">    <span class="">'+t.labels.selectprods+'</span>    <button type="button" class="close pull-right" data-dismiss="modal">        <span aria-hidden="true">&times;</span>        <span class="sr-only"> </span>    </button></div><div class="modal-body"></div><div class="modal-footer"></div></div></div></div>';$("body").append(o),$(".modal-body").spinner().start(),$.ajax({url:e,method:"GET",dataType:"json",success:function(t){var e=l(t.renderedTemplate);$("#chooseBonusProductModal .modal-body").empty(),$("#chooseBonusProductModal .enter-message").text(t.enterDialogMessage),$("#chooseBonusProductModal .modal-header .close .sr-only").text(t.closeButtonText),$("#chooseBonusProductModal .modal-body").html(e.body),$("#chooseBonusProductModal .modal-footer").html(e.footer),$("#chooseBonusProductModal").modal("show"),$.spinner().stop()},error:function(){$.spinner().stop()}})}function u(t){var e=t.find(".product-option").map((function(){var t=$(this).find(".options-select"),e=t.val(),o=t.find('option[value="'+e+'"]').data("value-id");return{optionId:$(this).data("option-id"),selectedValueId:o}})).toArray();return JSON.stringify(e)}function p(t){t&&$.ajax({url:t,method:"GET",success:function(){},error:function(){}})}t.exports={attributeSelect:s,methods:{editBonusProducts:function(t){d(t)}},focusChooseBonusProductModal:function(){$("body").on("shown.bs.modal","#chooseBonusProductModal",(function(){$("#chooseBonusProductModal").siblings().attr("aria-hidden","true"),$("#chooseBonusProductModal .close").focus()}))},onClosingChooseBonusProductModal:function(){$("body").on("hidden.bs.modal","#chooseBonusProductModal",(function(){$("#chooseBonusProductModal").siblings().attr("aria-hidden","false")}))},trapChooseBonusProductModalFocus:function(){$("body").on("keydown","#chooseBonusProductModal",(function(t){var e={event:t,containerSelector:"#chooseBonusProductModal",firstElementSelector:".close",lastElementSelector:".add-bonus-products"};a.setTabNextFocus(e)}))},colorAttribute:function(){$(document).on("click",'[data-attr="color"] button',(function(t){if(t.preventDefault(),!$(this).attr("disabled")){var e=$(this).closest(".set-item");e.length||(e=$(this).closest(".product-detail")),s($(this).attr("data-url"),e)}}))},selectAttribute:function(){$(document).on("change",'select[class*="select-"], .options-select',(function(t){t.preventDefault();var e=$(this).closest(".set-item");e.length||(e=$(this).closest(".product-detail")),s(t.currentTarget.value,e)}))},availability:function(){$(document).on("change",".quantity-select",(function(t){t.preventDefault();var e=$(this).closest(".product-detail");e.length||(e=$(this).closest(".modal-content").find(".product-quickview")),0===$(".bundle-items",e).length&&s($(t.currentTarget).find("option:selected").data("url"),e)}))},addToCart:function(){$(document).on("click","button.add-to-cart, button.add-to-cart-global",(function(){var t,e,o,a;$("body").trigger("product:beforeAddToCart",this),$(".set-items").length&&$(this).hasClass("add-to-cart-global")&&(a=[],$(".product-detail").each((function(){$(this).hasClass("product-set-detail")||a.push({pid:$(this).find(".product-id").text(),qty:$(this).find(".quantity-select").val(),options:u($(this))})})),o=JSON.stringify(a)),e=i($(this));var n=$(this).closest(".product-detail");n.length||(n=$(this).closest(".quick-view-dialog").find(".product-detail")),t=$(".add-to-cart-url").val();var c,s={pid:e,pidsObj:o,childProducts:(c=[],$(".bundle-item").each((function(){c.push({pid:$(this).find(".product-id").text(),quantity:parseInt($(this).find("label.quantity").data("quantity"),10)})})),c.length?JSON.stringify(c):[]),quantity:r($(this))};$(".bundle-item").length||(s.options=u(n)),$(this).trigger("updateAddToCartFormData",s),t&&$.ajax({url:t,method:"POST",data:s,success:function(t){!function(t){$(".minicart").trigger("count:update",t);var e=t.error?"alert-danger":"alert-success";t.newBonusDiscountLineItem&&0!==Object.keys(t.newBonusDiscountLineItem).length?d(t.newBonusDiscountLineItem):(0===$(".add-to-cart-messages").length&&$("body").append('<div class="add-to-cart-messages"></div>'),$(".add-to-cart-messages").append('<div class="alert '+e+' add-to-basket-alert text-center" role="alert">'+t.message+"</div>"),setTimeout((function(){$(".add-to-basket-alert").remove()}),5e3))}(t),$("body").trigger("product:afterAddToCart",t),$.spinner().stop(),p(t.reportingURL)},error:function(){$.spinner().stop()}})}))},selectBonusProduct:function(){$(document).on("click",".select-bonus-product",(function(){var t=$(this).parents(".choice-of-bonus-product"),e=$(this).data("pid"),o=$(".choose-bonus-product-dialog").data("total-qty"),a=parseInt(t.find(".bonus-quantity-select").val(),10),i=0;$.each($("#chooseBonusProductModal .selected-bonus-products .selected-pid"),(function(){i+=$(this).data("qty")})),i+=a;var n=t.find(".product-option").data("option-id"),r=t.find(".options-select option:selected").data("valueId");if(i<=o){var c='<div class="selected-pid row" data-pid="'+e+'"data-qty="'+a+'"data-optionID="'+(n||"")+'"data-option-selected-value="'+(r||"")+'"><div class="col-sm-11 col-9 bonus-product-name" >'+t.find(".product-name").html()+'</div><div class="col-1"><i class="fa fa-times" aria-hidden="true"></i></div></div>';$("#chooseBonusProductModal .selected-bonus-products").append(c),$(".pre-cart-products").html(i),$(".selected-bonus-products .bonus-summary").removeClass("alert-danger")}else $(".selected-bonus-products .bonus-summary").addClass("alert-danger")}))},removeBonusProduct:function(){$(document).on("click",".selected-pid",(function(){$(this).remove();var t=$("#chooseBonusProductModal .selected-bonus-products .selected-pid"),e=0;t.length&&t.each((function(){e+=parseInt($(this).data("qty"),10)})),$(".pre-cart-products").html(e),$(".selected-bonus-products .bonus-summary").removeClass("alert-danger")}))},enableBonusProductSelection:function(){$("body").on("bonusproduct:updateSelectButton",(function(t,e){$("button.select-bonus-product",e.$productContainer).attr("disabled",!e.product.readyToOrder||!e.product.available);var o=e.product.id;$("button.select-bonus-product",e.$productContainer).data("pid",o)}))},showMoreBonusProducts:function(){$(document).on("click",".show-more-bonus-products",(function(){var t=$(this).data("url");$(".modal-content").spinner().start(),$.ajax({url:t,method:"GET",success:function(t){var e=l(t);$(".modal-body").append(e.body),$(".show-more-bonus-products:first").remove(),$(".modal-content").spinner().stop()},error:function(){$(".modal-content").spinner().stop()}})}))},addBonusProductsToCart:function(){$(document).on("click",".add-bonus-products",(function(){var t=$(".choose-bonus-product-dialog .selected-pid"),e="?pids=",o=$(".choose-bonus-product-dialog").data("addtocarturl"),a={bonusProducts:[]};$.each(t,(function(){var t=parseInt($(this).data("qty"),10),e=null;t>0&&($(this).data("optionid")&&$(this).data("option-selected-value")&&((e={}).optionId=$(this).data("optionid"),e.productId=$(this).data("pid"),e.selectedValueId=$(this).data("option-selected-value")),a.bonusProducts.push({pid:$(this).data("pid"),qty:t,options:[e]}),a.totalQty=parseInt($(".pre-cart-products").html(),10))})),e=(e=(e+=JSON.stringify(a))+"&uuid="+$(".choose-bonus-product-dialog").data("uuid"))+"&pliuuid="+$(".choose-bonus-product-dialog").data("pliuuid"),$.spinner().start(),$.ajax({url:o+e,method:"POST",success:function(t){$.spinner().stop(),t.error?($("#chooseBonusProductModal").modal("hide"),0===$(".add-to-cart-messages").length&&$("body").append('<div class="add-to-cart-messages"></div>'),$(".add-to-cart-messages").append('<div class="alert alert-danger add-to-basket-alert text-center" role="alert">'+t.errorMessage+"</div>"),setTimeout((function(){$(".add-to-basket-alert").remove()}),3e3)):($(".configure-bonus-product-attributes").html(t),$(".bonus-products-step2").removeClass("hidden-xl-down"),$("#chooseBonusProductModal").modal("hide"),0===$(".add-to-cart-messages").length&&$("body").append('<div class="add-to-cart-messages"></div>'),$(".minicart-quantity").html(t.totalQty),$(".add-to-cart-messages").append('<div class="alert alert-success add-to-basket-alert text-center" role="alert">'+t.msgSuccess+"</div>"),setTimeout((function(){$(".add-to-basket-alert").remove(),$(".cart-page").length&&location.reload()}),1500))},error:function(){$.spinner().stop()}})}))},getPidValue:i,getQuantitySelected:r,miniCartReportingUrl:p}},6:function(t,e,o){"use strict";t.exports={setTabNextFocus:function(t){if("Tab"===t.event.key||9===t.event.keyCode){var e=$(t.containerSelector+" "+t.firstElementSelector),o=$(t.containerSelector+" "+t.lastElementSelector);if($(t.containerSelector+" "+t.lastElementSelector).is(":disabled")&&(o=$(t.containerSelector+" "+t.nextToLastElementSelector),$(".product-quickview.product-set").length>0)){var a=$(t.containerSelector+" a#fa-link.share-icons");o=a[a.length-1]}t.event.shiftKey?$(":focus").is(e)&&(o.focus(),t.event.preventDefault()):$(":focus").is(o)&&(e.focus(),t.event.preventDefault())}}}}});